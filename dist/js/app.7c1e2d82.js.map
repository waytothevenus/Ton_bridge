{"version":3,"file":"js/app.7c1e2d82.js","mappings":"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","sources":["webpack://ton-token-bridge/./src/App.vue?1cba","webpack://ton-token-bridge/./src/components/Layout/index.vue?9422","webpack://ton-token-bridge/./src/components/Alert/index.vue?b6da","webpack://ton-token-bridge/./src/components/Alert/index.vue?c817","webpack://ton-token-bridge/./src/components/Alert/index.vue","webpack://ton-token-bridge/./src/components/Layout/index.vue?fe81","webpack://ton-token-bridge/./src/components/Layout/index.vue","webpack://ton-token-bridge/./src/App.vue?847a","webpack://ton-token-bridge/./src/App.vue","webpack://ton-token-bridge/./src/locales/en.json","webpack://ton-token-bridge/./src/locales/ru.json","webpack://ton-token-bridge/./src/i18n.ts","webpack://ton-token-bridge/./src/views/BridgePage/index.vue?0c10","webpack://ton-token-bridge/./src/components/BridgeProcessor/index.vue?ec91","webpack://ton-token-bridge/./src/ton-bridge-lib/Paranoid.ts","webpack://ton-token-bridge/./src/ton-bridge-lib/BridgeJettonUtils.ts","webpack://ton-token-bridge/./src/api/tonWallet.ts","webpack://ton-token-bridge/./src/utils/index.ts","webpack://ton-token-bridge/./src/ton-bridge-lib/BridgeTonUtils.ts","webpack://ton-token-bridge/./src/ton-bridge-lib/BridgeCollector.ts","webpack://ton-token-bridge/./src/ton-bridge-lib/BridgeCommon.ts","webpack://ton-token-bridge/./src/utils/services/ERC20.contract.ts","webpack://ton-token-bridge/./src/ton-bridge-lib/BridgeEvmUtils.ts","webpack://ton-token-bridge/./src/ton-bridge-lib/ToncoinBridge.ts","webpack://ton-token-bridge/./src/ton-bridge-lib/TokenBridge.ts","webpack://ton-token-bridge/./src/ton-bridge-lib/BridgeMultisig.ts","webpack://ton-token-bridge/./src/components/BridgeProcessor/index.vue?f8df","webpack://ton-token-bridge/./src/components/BridgeProcessor/index.vue","webpack://ton-token-bridge/./src/components/CustomInput/index.vue?588b","webpack://ton-token-bridge/./src/components/CustomInput/index.vue?ab6c","webpack://ton-token-bridge/./src/components/CustomInput/index.vue","webpack://ton-token-bridge/./src/components/Footer/index.vue?2f14","webpack://ton-token-bridge/./src/components/Footer/index.vue?c866","webpack://ton-token-bridge/./src/components/Footer/index.vue","webpack://ton-token-bridge/./src/components/Header/index.vue?f117","webpack://ton-token-bridge/./src/components/Header/index.vue?cfa2","webpack://ton-token-bridge/./src/components/Header/index.vue","webpack://ton-token-bridge/./src/components/WalletsPopup/index.vue?6d3f","webpack://ton-token-bridge/./src/components/WalletsPopup/index.vue?6fd6","webpack://ton-token-bridge/./src/components/WalletsPopup/index.vue","webpack://ton-token-bridge/./src/views/BridgePage/index.vue?d159","webpack://ton-token-bridge/./src/views/BridgePage/index.vue","webpack://ton-token-bridge/./src/router/index.ts","webpack://ton-token-bridge/./src/store/index.ts","webpack://ton-token-bridge/./src/main.ts","webpack://ton-token-bridge/./src/utils/constants.ts","webpack://ton-token-bridge/./src/utils/helpers.ts","webpack://ton-token-bridge/./src/utils/providers/ lazy ^\\.\\/.*\\/index$ namespace object","webpack://ton-token-bridge/webpack/bootstrap","webpack://ton-token-bridge/webpack/runtime/amd options","webpack://ton-token-bridge/webpack/runtime/chunk loaded","webpack://ton-token-bridge/webpack/runtime/compat get default export","webpack://ton-token-bridge/webpack/runtime/define property getters","webpack://ton-token-bridge/webpack/runtime/ensure chunk","webpack://ton-token-bridge/webpack/runtime/get javascript chunk filename","webpack://ton-token-bridge/webpack/runtime/get mini-css chunk filename","webpack://ton-token-bridge/webpack/runtime/global","webpack://ton-token-bridge/webpack/runtime/hasOwnProperty shorthand","webpack://ton-token-bridge/webpack/runtime/load script","webpack://ton-token-bridge/webpack/runtime/make namespace object","webpack://ton-token-bridge/webpack/runtime/node module decorator","webpack://ton-token-bridge/webpack/runtime/publicPath","webpack://ton-token-bridge/webpack/runtime/jsonp chunk loading","webpack://ton-token-bridge/webpack/startup"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_view = _resolveComponent(\"router-view\")!\n  const _component_layout = _resolveComponent(\"layout\")!\n\n  return (_openBlock(), _createBlock(_component_layout, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_router_view)\n    ]),\n    _: 1\n  }))\n}","import { renderSlot as _renderSlot, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-128d0bc8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"LayoutDefault\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Alert = _resolveComponent(\"Alert\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _renderSlot(_ctx.$slots, \"default\", {}, undefined, true),\n    (_ctx.alert)\n      ? (_openBlock(), _createBlock(_component_Alert, {\n          key: 0,\n          title: _ctx.alert.title,\n          message: _ctx.alert.message,\n          buttonLabel: _ctx.alert.buttonLabel,\n          link: _ctx.alert.link,\n          linkText: _ctx.alert.linkText,\n          onClose: _cache[0] || (_cache[0] = ($event: any) => (_ctx.setAlert(null)))\n        }, null, 8, [\"title\", \"message\", \"buttonLabel\", \"link\", \"linkText\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-9f962e4e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"Alert\" }\nconst _hoisted_2 = { class: \"Alert-panel\" }\nconst _hoisted_3 = [\"href\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createBlock(_Transition, {\n    name: \"AlertTransition\",\n    appear: \"\"\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"aside\", _hoisted_1, [\n        _createElementVNode(\"div\", {\n          class: \"Alert-overlay\",\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.close && _ctx.close(...args)))\n        }),\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"h2\", null, _toDisplayString(_ctx.title), 1),\n          _createElementVNode(\"p\", null, _toDisplayString(_ctx.message), 1),\n          (_ctx.link && _ctx.linkText)\n            ? (_openBlock(), _createElementBlock(\"a\", {\n                key: 0,\n                href: _ctx.link,\n                target: \"_blank\",\n                class: \"Alert-link\"\n              }, _toDisplayString(_ctx.linkText), 9, _hoisted_3))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"button\", {\n            onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.close && _ctx.close(...args)))\n          }, _toDisplayString(_ctx.buttonLabel), 1)\n        ])\n      ])\n    ]),\n    _: 1\n  }))\n}","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    title: { type: String, required: true },\n    message: { type: String, required: true },\n    buttonLabel: { type: String, required: true },\n    link: { type: String, required: false },\n    linkText: { type: String, required: false },\n  },\n  created() {\n    document.addEventListener(\"keydown\", this.onKeyDown);\n  },\n\n  beforeUnmount() {\n    document.removeEventListener(\"keydown\", this.onKeyDown);\n  },\n\n  methods: {\n    onKeyDown(e: KeyboardEvent) {\n      if (e.keyCode === 27) {\n        this.close();\n      }\n    },\n    close() {\n      this.$emit(\"close\");\n    },\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=9f962e4e&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=9f962e4e&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/tolya/dev/ton/bridge/token-bridge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9f962e4e\"]])\n\nexport default __exports__","\nimport { primaryInput } from \"detect-it\";\nimport { defineComponent } from \"vue\";\nimport { mapGetters, mapMutations } from \"vuex\";\n\nimport Alert from \"@/components/Alert/index.vue\";\n\nexport default defineComponent({\n  name: \"LayoutDefault\",\n\n  components: { Alert },\n  methods: { ...mapMutations([\"setAlert\"]) },\n\n  computed: {\n    ...mapGetters([\"alert\"]),\n  },\n\n  mounted() {\n    // for active/hovers on touch/mouse devices\n    document.documentElement.classList.add(\n      primaryInput === \"touch\" ? \"isTouch\" : \"isPointer\"\n    );\n  },\n\n  watch: {\n    alert: function (newVal) {\n      if (newVal !== null) {\n        this.alert = { ...newVal };\n      }\n    },\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=128d0bc8&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=128d0bc8&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/tolya/dev/ton/bridge/token-bridge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-128d0bc8\"]])\n\nexport default __exports__","\nimport { defineComponent } from \"vue\";\n\nimport Layout from \"@/components/Layout/index.vue\";\n\nexport default defineComponent({ components: { Layout } });\n","import { render } from \"./App.vue?vue&type=template&id=112ad411&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/tolya/dev/ton/bridge/token-bridge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default {\n  \"logoLabel\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Bridge\"])},\n  \"connectWallet\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Connect Wallet\"])},\n  \"testnetMessage\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"This is the testnet version. Dont send real coins!\"])},\n  \"providers\": {\n    \"metamask\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Metamask\"])},\n    \"walletConnect\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"WalletConnect\"])},\n    \"walletLink\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Coinbase Wallet\"])}\n  },\n  \"networks\": {\n    \"ton\": {\n      \"currency\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin\"])},\n      \"transactionCompleted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON transaction completed successfully\"])},\n      \"transactionSend1\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Please send \"])},\n      \"transactionSend2\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin to the address\"])},\n      \"transactionSendComment\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"with the comment\"])},\n      \"openWallet\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Open Wallet\"])},\n      \"generateQRCode\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Generate QR Code\"])},\n      \"scanQRCode\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"or scan QR code below\"])},\n      \"errors\": {\n        \"invalidAddress\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Not valid TON address\"])}\n      },\n      \"main\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The Open Network\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The Open\\nNetwork\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin\"])}\n      },\n      \"test\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON Testnet\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON\\nTestnet\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin\"])}\n      }\n    },\n    \"eth\": {\n      \"currency\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"ETH\"])},\n      \"pageTitle\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON-ETH Bridge\"])},\n      \"gasFee\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Ethereum gas fee ~ \", _interpolate(_named(\"fee\")), \" ETH\"])},\n      \"transactionCompleted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ethereum transaction completed successfully\"])},\n      \"transactionWait\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Please wait for the Ethereum transaction to be processed\"])},\n      \"transactionSend\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Please send Ethereum transaction in \", _interpolate(_named(\"provider\"))])},\n      \"blocksConfirmations\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Collected \", _interpolate(_named(\"count\")), \" Ethereum block confirmations\"])},\n      \"errors\": {\n        \"invalidAddress\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Not valid ETH address\"])},\n        \"lowBalance\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"You need to have ETH on your wallet to pay for gas in the Ethereum network\"])}\n      },\n      \"main\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ethereum Network\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ethereum\\nNetwork\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"ETH\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN (ERC-20)\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN\"])}\n      },\n      \"test\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ethereum Goerli\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ethereum\\nGoerli\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"ETH\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN (ERC-20)\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN\"])}\n      }\n    },\n    \"bsc\": {\n      \"currency\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"BNB\"])},\n      \"pageTitle\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON-BSC Bridge\"])},\n      \"gasFee\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"BSC gas fee ~ \", _interpolate(_named(\"fee\")), \" BNB\"])},\n      \"transactionCompleted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"BSC transaction completed successfully\"])},\n      \"transactionWait\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Please wait for the BSC transaction to be processed\"])},\n      \"transactionSend\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Please send BSC transaction in \", _interpolate(_named(\"provider\"))])},\n      \"blocksConfirmations\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Collected \", _interpolate(_named(\"count\")), \" BSC block confirmations\"])},\n      \"errors\": {\n        \"invalidAddress\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Not valid BSC address\"])},\n        \"lowBalance\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"You need to have BNB on your wallet to pay for gas in the BSC network\"])}\n      },\n      \"main\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Binance Smart Chain\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Binance\\nSmart Chain\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"BSC\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN (BEP-20)\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN\"])}\n      },\n      \"test\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"BSC Testnet\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"BSC\\nTestnet\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"BSC\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN (BEP-20)\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN\"])}\n      }\n    }\n  },\n  \"tokenAddress\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Token address in \", _interpolate(_named(\"network\")), \" network\"])},\n  \"sendToken\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Asset\"])},\n  \"amountOfTon\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Amount \", _interpolate(_named(\"tokenSymbol\"))])},\n  \"addressInputLabel\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Destination address in \", _interpolate(_named(\"network\")), \" network\"])},\n  \"willReceive\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"You will receive \", _interpolate(_named(\"fee\")), \" \", _interpolate(_named(\"coin\"))])},\n  \"bridgeFeeAbove10\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Bridge fee - \", _interpolate(_named(\"fee\")), \" TON\"])},\n  \"bridgeFeeBelow10\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Bridge fee - 5 TON + 0.25% of amount\"])},\n  \"tokenBridgeFee\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Bridge fee - 1 TON\"])},\n  \"tokenBridgeFeeToEvm\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Bridge fee - 1 TON + 0.1% of token amount\"])},\n  \"sourceCode\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Source Code\"])},\n  \"support\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Support\"])},\n  \"howItWorks\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"How it works\"])},\n  \"documentation\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Documentation\"])},\n  \"transferHistory\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"History\"])},\n  \"disconnectWallet\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Disconnect\"])},\n  \"transfer\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Transfer\"])},\n  \"getToncoin\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Get \", _interpolate(_named(\"coin\"))])},\n  \"done\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Done\"])},\n  \"cancel\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Cancel\"])},\n  \"blocksConfirmationsCollected\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The confirmations of the blocks are collected\"])},\n  \"blocksConfirmationsWaiting\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Wait a bit for the blocks confirmations\"])},\n  \"oraclesConfirmations\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Collected \", _interpolate(_named(\"count\")), \" confirmations of oracles\"])},\n  \"oraclesConfirmationsCollected\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The confirmations of the oracles are collected\"])},\n  \"oraclesConfirmationsWaiting\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Wait a bit for the oracles to confirm the transfer\"])},\n  \"getCoinsByProvider\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Get \", _interpolate(_named(\"toCoin\")), \"s by \", _interpolate(_named(\"provider\"))])},\n  \"coinsSent\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([_interpolate(_named(\"toCoin\")), \"s have been sent\"])},\n  \"getCoins\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Get \", _interpolate(_named(\"toCoin\")), \"s in \", _interpolate(_named(\"toNetwork\"))])},\n  \"otherTokens\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Other tokens\"])},\n  \"tokens\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"token\"])},\n  \"instruction\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Instruction\"])},\n  \"errors\": {\n    \"alertTitleError\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Error\"])},\n    \"alertButtonClose\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Close\"])},\n    \"notValidAmount\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Amount is not valid number\"])},\n    \"amountBelow10\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Amount must be at least 10 TON\"])},\n    \"needPersonalAddress\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Please enter YOUR address to receive\"])},\n    \"toncoinBalance\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"You have only \", _interpolate(_named(\"balance\")), \" \", _interpolate(_named(\"coin\"))])},\n    \"installMetamask\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Please install MetaMask\"])},\n    \"wrongProviderNetwork\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Set chain to \", _interpolate(_named(\"network\")), \" in \", _interpolate(_named(\"provider\"))])},\n    \"cantGetAddress\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Can't get account address\"])},\n    \"providerIsDisconnected\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([_interpolate(_named(\"provider\")), \" is disconnected\"])}\n  },\n  \"history\": {\n    \"title\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Recent history\"])},\n    \"recentHistory\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Recent history\"])},\n    \"age\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Date\"])},\n    \"amountFrom\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Amount / From (Network)\"])},\n    \"amountTo\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Amount Received / To (Network)\"])},\n    \"fee\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Gas / Bridge Fee\"])},\n    \"status\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Status\"])},\n    \"completed\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"completed\"])},\n    \"getToncoin\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Get \", _interpolate(_named(\"coin\"))])},\n    \"connect\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Connect\"])},\n    \"oracles\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([_interpolate(_named(\"count\")), \" of oracles\"])},\n    \"notFound\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"No transfers found\"])}\n  }\n}","export default {\n  \"logoLabel\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Бридж\"])},\n  \"connectWallet\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Подключить Кошелек\"])},\n  \"testnetMessage\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Работа в режиме тестовой сети. Не отправляйте реальные монеты!\"])},\n  \"providers\": {\n    \"metamask\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Metamask\"])},\n    \"walletConnect\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"WalletConnect\"])},\n    \"walletLink\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Coinbase Wallet\"])}\n  },\n  \"networks\": {\n    \"ton\": {\n      \"currency\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin\"])},\n      \"transactionCompleted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Транзакция TON успешно завершена\"])},\n      \"transactionSend1\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Пожалуйста, отправьте \"])},\n      \"transactionSend2\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin на адрес\"])},\n      \"transactionSendComment\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"с комментарием\"])},\n      \"openWallet\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Открыть Кошелек\"])},\n      \"generateQRCode\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Сгенерировать QR-код\"])},\n      \"scanQRCode\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"или отсканируйте QR-код ниже\"])},\n      \"errors\": {\n        \"invalidAddress\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Не валидный TON адрес\"])}\n      },\n      \"main\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The Open Network\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"The Open\\nNetwork\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin\"])}\n      },\n      \"test\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON Testnet\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON\\nTestnet\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Toncoin\"])}\n      }\n    },\n    \"eth\": {\n      \"currency\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"ETH\"])},\n      \"pageTitle\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON-ETH Бридж\"])},\n      \"gasFee\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Комиссия Ethereum (газ) ~ \", _interpolate(_named(\"fee\")), \" ETH\"])},\n      \"transactionCompleted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Транзакция Ethereum успешно завершена\"])},\n      \"transactionWait\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Пожалуйста, подождите пока обрабатывается транзакция Ethereum\"])},\n      \"transactionSend\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Пожалуйста, подтвердите Ethereum транзакцию в \", _interpolate(_named(\"provider\"))])},\n      \"blocksConfirmations\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Собрано \", _interpolate(_named(\"count\")), \" подтверждений блоков Ethereum\"])},\n      \"errors\": {\n        \"invalidAddress\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Не валидный ETH адрес\"])},\n        \"lowBalance\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"У вас должны быть ETH в кошельке чтобы оплатить газ в сети Ethereum\"])}\n      },\n      \"main\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ethereum Network\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ethereum\\nNetwork\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"ETH\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN (ERC-20)\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN\"])}\n      },\n      \"test\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ethereum Goerli\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ethereum\\nGoerli\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"ETH\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN (ERC-20)\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN\"])}\n      }\n    },\n    \"bsc\": {\n      \"currency\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"BNB\"])},\n      \"pageTitle\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TON-BSC Бридж\"])},\n      \"gasFee\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Комиссия BSC (газ) ~ \", _interpolate(_named(\"fee\")), \" BNB\"])},\n      \"transactionCompleted\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Транзакция BSC успешно завершена\"])},\n      \"transactionWait\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Пожалуйста, подождите пока обрабатывается транзакция BSC\"])},\n      \"transactionSend\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Пожалуйста, подтвердите BSC транзакцию в \", _interpolate(_named(\"provider\"))])},\n      \"blocksConfirmations\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Собрано \", _interpolate(_named(\"count\")), \" подтверждений блоков BSC\"])},\n      \"errors\": {\n        \"invalidAddress\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Не валидный BSC адрес\"])},\n        \"lowBalance\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"У вас должны быть BNB в кошельке чтобы оплатить газ в сети BSC\"])}\n      },\n      \"main\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Binance Smart Chain\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Binance\\nSmart Chain\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"BSC\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN (BEP-20)\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN\"])}\n      },\n      \"test\": {\n        \"name\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"BSC Testnet\"])},\n        \"nameSwitcher\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"BSC\\nTestnet\"])},\n        \"nameShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"BSC\"])},\n        \"coin\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN (BEP-20)\"])},\n        \"coinShort\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"TONCOIN\"])}\n      }\n    }\n  },\n  \"sendToken\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Токен\"])},\n  \"amountOfTon\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Количество \", _interpolate(_named(\"tokenSymbol\"))])},\n  \"tokenAddress\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Адрес токена в сети \", _interpolate(_named(\"network\"))])},\n  \"addressInputLabel\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Адрес получения в сети \", _interpolate(_named(\"network\"))])},\n  \"willReceive\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Вы получите \", _interpolate(_named(\"fee\")), \" \", _interpolate(_named(\"coin\"))])},\n  \"bridgeFeeAbove10\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Комиссия бриджа - \", _interpolate(_named(\"fee\")), \" TON\"])},\n  \"bridgeFeeBelow10\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Комиссия бриджа - 5 TON + 0.25% от суммы\"])},\n  \"tokenBridgeFee\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Комиссия бриджа - 1 TON\"])},\n  \"tokenBridgeFeeToEvm\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Комиссия бриджа - 1 TON + 0.1% от суммы токенов\"])},\n  \"sourceCode\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Исходный код\"])},\n  \"support\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Тех. поддержка\"])},\n  \"howItWorks\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Как это работает\"])},\n  \"documentation\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Документация\"])},\n  \"transferHistory\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"История\"])},\n  \"disconnectWallet\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Отключить\"])},\n  \"transfer\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Перевод\"])},\n  \"getToncoin\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Получить \", _interpolate(_named(\"coin\"))])},\n  \"done\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Готово\"])},\n  \"cancel\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Отменить\"])},\n  \"blocksConfirmationsCollected\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Собраны подтверждения блоков\"])},\n  \"blocksConfirmationsWaiting\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Пожалуйста, подождите подтверждения блоков\"])},\n  \"oraclesConfirmations\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Собрано \", _interpolate(_named(\"count\")), \" подтверждений оракулов\"])},\n  \"oraclesConfirmationsCollected\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Собраны подтверждения оракулов\"])},\n  \"oraclesConfirmationsWaiting\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Пожалуйста, подождите подтверждения оракулов\"])},\n  \"getCoinsByProvider\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Получите \", _interpolate(_named(\"toCoin\")), \" в \", _interpolate(_named(\"provider\"))])},\n  \"coinsSent\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([_interpolate(_named(\"toCoin\")), \" были отправлены\"])},\n  \"getCoins\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Получите \", _interpolate(_named(\"toCoin\")), \" в \", _interpolate(_named(\"toNetwork\"))])},\n  \"otherTokens\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Другие токены\"])},\n  \"tokens\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"токены\"])},\n  \"instruction\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Инструкция\"])},\n  \"errors\": {\n    \"alertTitleError\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Ошибка\"])},\n    \"alertButtonClose\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Закрыть\"])},\n    \"notValidAmount\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Введено не валидное число\"])},\n    \"amountBelow10\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Количество должно быть не менее 10 TON\"])},\n    \"needPersonalAddress\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Пожалуйста, введите СВОЙ адрес для получения\"])},\n    \"toncoinBalance\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"У вас всего \", _interpolate(_named(\"balance\")), \" \", _interpolate(_named(\"coin\"))])},\n    \"installMetamask\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Пожалуйста, установите MetaMask\"])},\n    \"wrongProviderNetwork\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Переключите сеть на \", _interpolate(_named(\"network\")), \" в \", _interpolate(_named(\"provider\"))])},\n    \"cantGetAddress\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Не могу получить адрес аккаунта\"])},\n    \"providerIsDisconnected\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([_interpolate(_named(\"provider\")), \" отключился\"])}\n  },\n  \"history\": {\n    \"title\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"История\"])},\n    \"recentHistory\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"История\"])},\n    \"age\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Дата\"])},\n    \"amountFrom\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Количество / Откуда (сеть)\"])},\n    \"amountTo\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Получено / Куда (сеть)\"])},\n    \"fee\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Газ / Бридж комиссии\"])},\n    \"status\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Статус\"])},\n    \"completed\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"завершено\"])},\n    \"getToncoin\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([\"Получить \", _interpolate(_named(\"coin\"))])},\n    \"connect\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Подключить\"])},\n    \"oracles\": (ctx) => {const { normalize: _normalize, interpolate: _interpolate, named: _named } = ctx;return _normalize([_interpolate(_named(\"count\")), \" оракулов\"])},\n    \"notFound\": (ctx) => {const { normalize: _normalize } = ctx;return _normalize([\"Переводы не найдены\"])}\n  }\n}","import { createI18n } from \"vue-i18n\";\n\nimport en from \"./locales/en.json\";\nimport ru from \"./locales/ru.json\";\n\nexport default createI18n({\n  legacy: false,\n  locale:\n    navigator?.language?.split(\"-\")?.[0] ||\n    process.env.VUE_APP_I18N_LOCALE ||\n    \"en\",\n  fallbackLocale: process.env.VUE_APP_I18N_FALLBACK_LOCALE || \"en\",\n  messages: { en, ru },\n});\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f59d7bb0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"Bridge\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"Bridge-mobile-label\" }, \" Please use desktop \", -1))\nconst _hoisted_3 = { class: \"Bridge-content\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, null, -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"Bridge-imgAspect\" }, null, -1))\nconst _hoisted_6 = [\n  _hoisted_5\n]\nconst _hoisted_7 = { class: \"Bridge-form\" }\nconst _hoisted_8 = { class: \"Bridge-switcherTitle\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"em\", null, null, -1))\nconst _hoisted_10 = [\"disabled\", \"onClick\"]\nconst _hoisted_11 = {\n  key: 0,\n  class: \"Bridge-switcherAnno\"\n}\nconst _hoisted_12 = [\"disabled\"]\nconst _hoisted_13 = { class: \"Bridge-switcherTitle\" }\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"em\", null, null, -1))\nconst _hoisted_15 = [\"disabled\", \"onClick\"]\nconst _hoisted_16 = {\n  key: 0,\n  class: \"Bridge-switcherAnno\"\n}\nconst _hoisted_17 = [\"href\"]\nconst _hoisted_18 = { class: \"Bridge-bridgeWrapper\" }\nconst _hoisted_19 = {\n  key: 1,\n  class: \"Bridge-bridgeLoader\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Header = _resolveComponent(\"Header\")!\n  const _component_CustomInput = _resolveComponent(\"CustomInput\")!\n  const _component_BridgeProcessor = _resolveComponent(\"BridgeProcessor\")!\n  const _component_Footer = _resolveComponent(\"Footer\")!\n  const _component_WalletsPopup = _resolveComponent(\"WalletsPopup\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_Header, {\n      \"is-testnet\": _ctx.isTestnet,\n      \"show-menu\": _ctx.isEthereumWalletConnected && _ctx.walletsPopupState === 'closed',\n      ethereumProvider: _ctx.ethereumProvider,\n      \"disable-disconnect\": _ctx.isTransferInProgress\n    }, null, 8, [\"is-testnet\", \"show-menu\", \"ethereumProvider\", \"disable-disconnect\"]),\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _hoisted_4,\n      _createElementVNode(\"main\", null, [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"Bridge-img\", { isFromTon: _ctx.isFromTon }])\n        }, _hoisted_6, 2),\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"Bridge-switchers\", { isFromTon: _ctx.isFromTon }])\n          }, [\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"Bridge-switcher\", { disabled: _ctx.isPairsBlocked }])\n            }, [\n              _createElementVNode(\"div\", _hoisted_8, [\n                _createElementVNode(\"span\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$t(`networks.ton.${_ctx.netTypeName}.nameSwitcher`)), 1),\n                  _hoisted_9\n                ]),\n                _createElementVNode(\"ul\", {\n                  class: _normalizeClass([\"Bridge-switcherList\", { left: _ctx.isFromTon, right: !_ctx.isFromTon }])\n                }, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.fromPairs, (item, index) => {\n                    return (_openBlock(), _createElementBlock(\"li\", { key: item }, [\n                      _createElementVNode(\"button\", {\n                        disabled: index === 0,\n                        onClick: ($event: any) => (_ctx.onPairClick(true, item))\n                      }, _toDisplayString(_ctx.$t(`networks.${item}.${_ctx.netTypeName}.name`)), 9, _hoisted_10)\n                    ]))\n                  }), 128))\n                ], 2)\n              ]),\n              (_ctx.token === 'ton')\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _toDisplayString(_ctx.$t(`networks.ton.${_ctx.netTypeName}.coin`)), 1))\n                : _createCommentVNode(\"\", true)\n            ], 2),\n            _createElementVNode(\"button\", {\n              class: \"Bridge-switcher-arrow\",\n              disabled: _ctx.isPairsBlocked,\n              onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.toggleFromTon && _ctx.toggleFromTon(...args)))\n            }, null, 8, _hoisted_12),\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"Bridge-switcher\", { disabled: _ctx.isPairsBlocked }])\n            }, [\n              _createElementVNode(\"div\", _hoisted_13, [\n                _createElementVNode(\"span\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$t(`networks.${_ctx.pair}.${_ctx.netTypeName}.nameSwitcher`)), 1),\n                  _hoisted_14\n                ]),\n                _createElementVNode(\"ul\", {\n                  class: _normalizeClass([\"Bridge-switcherList\", { left: !_ctx.isFromTon, right: _ctx.isFromTon }])\n                }, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.toPairs, (item, index) => {\n                    return (_openBlock(), _createElementBlock(\"li\", { key: item }, [\n                      _createElementVNode(\"button\", {\n                        disabled: index === 0,\n                        onClick: ($event: any) => (\n                        _ctx.onPairClick(\n                          item === 'ton',\n                          item === 'ton' ? _ctx.pair : item\n                        )\n                      )\n                      }, _toDisplayString(_ctx.$t(`networks.${item}.${_ctx.netTypeName}.name`)), 9, _hoisted_15)\n                    ]))\n                  }), 128))\n                ], 2)\n              ]),\n              (_ctx.token === 'ton')\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n                    _createElementVNode(\"a\", {\n                      href: _ctx.pairNetworkCoinUrl,\n                      target: \"_blank\"\n                    }, _toDisplayString(_ctx.$t(`networks.${_ctx.pair}.${_ctx.netTypeName}.coin`)), 9, _hoisted_17)\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ], 2)\n          ], 2),\n          _createVNode(_component_CustomInput, {\n            key: \"token\",\n            disabled: _ctx.isInputsBlocked || this.pair === 'bsc',\n            label: _ctx.$t('sendToken'),\n            type: \"text\",\n            dropdown: [\n              { label: 'Toncoin', value: 'ton' },\n              { label: 'USDT', value: 'usdt' },\n              { label: 'USDC', value: 'usdc' },\n              { label: 'DAI', value: 'dai' },\n              { label: 'WBTC', value: 'wbtc' },\n            ],\n            modelValue: _ctx.token,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.token) = $event))\n          }, null, 8, [\"disabled\", \"label\", \"modelValue\"]),\n          (_ctx.token === 'otherTokens')\n            ? (_openBlock(), _createBlock(_component_CustomInput, {\n                key: \"tokenAddress\",\n                disabled: _ctx.isInputsBlocked,\n                label: _ctx.$t('tokenAddress', {network: _ctx.isFromTon ? 'TON' : _ctx.pair.toUpperCase()}),\n                type: \"text\",\n                error: _ctx.errors.tokenAddress,\n                onChanged: _cache[2] || (_cache[2] = ($event: any) => (_ctx.errors.tokenAddress = '')),\n                onBlur: _ctx.checkInputs,\n                modelValue: _ctx.tokenAddress,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.tokenAddress) = $event))\n              }, null, 8, [\"disabled\", \"label\", \"error\", \"onBlur\", \"modelValue\"]))\n            : _createCommentVNode(\"\", true),\n          _createVNode(_component_CustomInput, {\n            key: \"amountInput\",\n            disabled: _ctx.isInputsBlocked,\n            label: _ctx.$t('amountOfTon', {tokenSymbol: _ctx.tokenSymbol}),\n            type: \"text\",\n            error: _ctx.errors.amount,\n            onChanged: _cache[4] || (_cache[4] = ($event: any) => (_ctx.errors.amount = '')),\n            onBlur: _ctx.checkInputs,\n            modelValue: _ctx.amountInput,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.amountInput) = $event))\n          }, null, 8, [\"disabled\", \"label\", \"error\", \"onBlur\", \"modelValue\"]),\n          _createVNode(_component_CustomInput, {\n            key: \"toAddress\",\n            disabled: _ctx.isInputsBlocked,\n            label: _ctx.$t(`addressInputLabel`, {network: _ctx.isFromTon ? _ctx.pair.toUpperCase() : 'TON'}),\n            type: \"text\",\n            error: _ctx.errors.toAddress,\n            onChanged: _cache[6] || (_cache[6] = ($event: any) => (_ctx.errors.toAddress = '')),\n            onBlur: _ctx.checkInputs,\n            modelValue: _ctx.toAddress,\n            \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.toAddress) = $event))\n          }, null, 8, [\"disabled\", \"label\", \"error\", \"onBlur\", \"modelValue\"]),\n          _withDirectives(_createElementVNode(\"div\", {\n            class: _normalizeClass([\"Bridge-willReceive\", { isFromTon: _ctx.isFromTon }])\n          }, _toDisplayString(_ctx.willReceive), 3), [\n            [_vShow, !_ctx.isTransferInProgress && _ctx.willReceive]\n          ]),\n          _createElementVNode(\"div\", _hoisted_18, [\n            (!_ctx.isEthereumWalletConnected)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 0,\n                  class: \"Bridge-connect\",\n                  onClick: _cache[8] || (_cache[8] = ($event: any) => (_ctx.walletsPopupState = 'opened'))\n                }, _toDisplayString(_ctx.$t(\"connectWallet\")), 1))\n              : _createCommentVNode(\"\", true),\n            (_ctx.isEthereumWalletConnected && _ctx.bridgeProcessorIsLoading)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19))\n              : _createCommentVNode(\"\", true),\n            (_ctx.isEthereumWalletConnected)\n              ? (_openBlock(), _createBlock(_component_BridgeProcessor, {\n                  ref: \"bridgeProcessor\",\n                  key: _ctx.pair,\n                  \"is-testnet\": _ctx.isTestnet,\n                  \"is-recover\": _ctx.isRecover,\n                  lt: _ctx.lt,\n                  hash: _ctx.hash,\n                  \"evm-hash\": _ctx.evmHash,\n                  \"is-from-ton\": _ctx.isFromTon,\n                  pair: _ctx.pair,\n                  tokenAddress: _ctx.getTokenAddress,\n                  amount: _ctx.amountInput.trim(),\n                  \"to-address\": _ctx.toAddress,\n                  tokenSymbol: _ctx.tokenSymbol,\n                  ethereumProvider: _ctx.ethereumProvider,\n                  token: _ctx.token,\n                  \"is-inputs-valid\": _ctx.isInputsValid,\n                  onTransferInProgress: _ctx.onTransferInProgress,\n                  onStateChanged: _ctx.getPairGasFee__debounced,\n                  onResetState: _ctx.resetState,\n                  onSaveState: _ctx.saveState,\n                  onDeleteState: _ctx.deleteState,\n                  onReady: _ctx.onBridgeProcessorReady,\n                  onError: _ctx.onBridgeTransferError\n                }, null, 8, [\"is-testnet\", \"is-recover\", \"lt\", \"hash\", \"evm-hash\", \"is-from-ton\", \"pair\", \"tokenAddress\", \"amount\", \"to-address\", \"tokenSymbol\", \"ethereumProvider\", \"token\", \"is-inputs-valid\", \"onTransferInProgress\", \"onStateChanged\", \"onResetState\", \"onSaveState\", \"onDeleteState\", \"onReady\", \"onError\"]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _withDirectives(_createElementVNode(\"div\", { class: \"Bridge-pairFee\" }, _toDisplayString(_ctx.pairFee), 513), [\n            [_vShow, !_ctx.isTransferInProgress]\n          ]),\n          _withDirectives(_createElementVNode(\"div\", { class: \"Bridge-bridgeFee\" }, _toDisplayString(_ctx.bridgeFee), 513), [\n            [_vShow, !_ctx.isTransferInProgress]\n          ])\n        ])\n      ]),\n      _createVNode(_component_Footer)\n    ]),\n    (_ctx.walletsPopupState !== 'closed')\n      ? (_openBlock(), _createBlock(_component_WalletsPopup, {\n          key: 0,\n          params: _ctx.params,\n          uncancellable: _ctx.walletsPopupState === 'opened-uncancellable',\n          onWalletConnected: _ctx.onWalletConnected,\n          onCancel: _cache[9] || (_cache[9] = ($event: any) => (_ctx.walletsPopupState = 'closed'))\n        }, null, 8, [\"params\", \"uncancellable\", \"onWalletConnected\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","import { toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-66225fb6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"BridgeProcessor\" }\nconst _hoisted_2 = [\"disabled\"]\nconst _hoisted_3 = [\"disabled\"]\nconst _hoisted_4 = {\n  key: 3,\n  class: \"BridgeProcessor-infoWrapper\"\n}\nconst _hoisted_5 = { class: \"BridgeProcessor-infoLine\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"BridgeProcessor-info-text\"\n}\nconst _hoisted_7 = { class: \"BridgeProcessor-info-text-send\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_12 = { class: \"BridgeProcessor-info-text-send-buttons\" }\nconst _hoisted_13 = [\"href\"]\nconst _hoisted_14 = {\n  key: 1,\n  class: \"BridgeProcessor-info-text-scanQRCode\"\n}\nconst _hoisted_15 = {\n  class: \"BridgeProcessor-info-text-QRCode\",\n  ref: \"qrcode\"\n}\nconst _hoisted_16 = {\n  key: 1,\n  class: \"BridgeProcessor-info-text\"\n}\nconst _hoisted_17 = {\n  key: 0,\n  class: \"BridgeProcessor-infoLine\"\n}\nconst _hoisted_18 = { class: \"BridgeProcessor-info-text\" }\nconst _hoisted_19 = { class: \"BridgeProcessor-infoLine\" }\nconst _hoisted_20 = { class: \"BridgeProcessor-info-text\" }\nconst _hoisted_21 = { class: \"BridgeProcessor-infoLine\" }\nconst _hoisted_22 = { class: \"BridgeProcessor-info-text\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_ctx.state.step === 0 && (_ctx.isFromTon || _ctx.hasApprove || _ctx.token === 'ton'))\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 0,\n          class: _normalizeClass([\"BridgeProcessor-transfer\", {\n        showLoader:\n          _ctx.isInitInProgress || _ctx.isBurningInProgress || _ctx.isLockingInProgress,\n      }]),\n          disabled: !_ctx.isInputsValid,\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onTransferClick && _ctx.onTransferClick(...args)))\n        }, _toDisplayString(_ctx.$t(\"transfer\")), 11, _hoisted_2))\n      : _createCommentVNode(\"\", true),\n    (_ctx.state.step === 0 && !_ctx.isFromTon && !_ctx.hasApprove && _ctx.token !== 'ton')\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 1,\n          class: _normalizeClass([\"BridgeProcessor-transfer\", { showLoader: _ctx.isApprovingInProgress || _ctx.isGetAllowanceInProcess }]),\n          disabled: !_ctx.isInputsValid || _ctx.isGetAllowanceError,\n          onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onApproveClick && _ctx.onApproveClick(...args)))\n        }, \" Approve \", 10, _hoisted_3))\n      : _createCommentVNode(\"\", true),\n    (_ctx.isCancelButtonVisible)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 2,\n          class: \"BridgeProcessor-cancel\",\n          onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onCancelClick && _ctx.onCancelClick(...args)))\n        }, _toDisplayString(_ctx.$t(\"cancel\")), 1))\n      : _createCommentVNode(\"\", true),\n    (_ctx.state.step > 0)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"BridgeProcessor-info-icon\", {\n            none: _ctx.state.step < 1,\n            pending: _ctx.state.step === 1,\n            done: _ctx.state.step > 1,\n          }])\n            }, null, 2),\n            (!_ctx.getStepInfoText1.isOnlyText)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                  _createElementVNode(\"div\", _hoisted_7, [\n                    _createElementVNode(\"div\", null, [\n                      _createTextVNode(_toDisplayString(_ctx.getStepInfoText1.send1) + \" \", 1),\n                      _createElementVNode(\"button\", {\n                        class: \"BridgeProcessor-info-text-copy\",\n                        onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.onCopyClick && _ctx.onCopyClick(...args)))\n                      }, _toDisplayString(_ctx.getStepInfoText1.amountReadable), 1),\n                      _createTextVNode(\" \" + _toDisplayString(_ctx.getStepInfoText1.send2), 1),\n                      _hoisted_8,\n                      _createElementVNode(\"button\", {\n                        class: \"BridgeProcessor-info-text-copy\",\n                        onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.onCopyClick && _ctx.onCopyClick(...args)))\n                      }, _toDisplayString(_ctx.getStepInfoText1.toAddress), 1),\n                      _hoisted_9,\n                      _createTextVNode(\" \" + _toDisplayString(_ctx.getStepInfoText1.withComment), 1),\n                      _hoisted_10,\n                      _createElementVNode(\"button\", {\n                        class: \"BridgeProcessor-info-text-copy\",\n                        onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.onCopyClick && _ctx.onCopyClick(...args)))\n                      }, _toDisplayString(_ctx.getStepInfoText1.comment), 1),\n                      _hoisted_11\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_12, [\n                      _createElementVNode(\"a\", {\n                        href: _ctx.getStepInfoText1.openWalletUrl,\n                        class: \"BridgeProcessor-info-text-openWallet\",\n                        target: \"_blank\"\n                      }, _toDisplayString(_ctx.getStepInfoText1.openWalletLabel), 9, _hoisted_13),\n                      (!_ctx.isQRCodeShown)\n                        ? (_openBlock(), _createElementBlock(\"button\", {\n                            key: 0,\n                            class: \"BridgeProcessor-info-text-generateQRCode\",\n                            onClick: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_ctx.generateQRCode && _ctx.generateQRCode(...args)))\n                          }, _toDisplayString(_ctx.getStepInfoText1.generateQRCode), 1))\n                        : _createCommentVNode(\"\", true),\n                      (_ctx.isQRCodeShown)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, _toDisplayString(_ctx.getStepInfoText1.scanQRCode), 1))\n                        : _createCommentVNode(\"\", true),\n                      _withDirectives(_createElementVNode(\"div\", _hoisted_15, null, 512), [\n                        [_vShow, _ctx.isQRCodeShown]\n                      ])\n                    ])\n                  ])\n                ]))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_16, _toDisplayString(_ctx.getStepInfoText1.text), 1))\n          ]),\n          (!_ctx.isFromTon)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n                _createElementVNode(\"div\", {\n                  class: _normalizeClass([\"BridgeProcessor-info-icon\", {\n            none: _ctx.state.step < 2,\n            pending: _ctx.state.step === 2,\n            done: _ctx.state.step > 2,\n          }])\n                }, null, 2),\n                _createElementVNode(\"div\", _hoisted_18, _toDisplayString(_ctx.getStepInfoText2), 1)\n              ]))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"div\", _hoisted_19, [\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"BridgeProcessor-info-icon\", {\n            none: _ctx.state.step < 3,\n            pending: _ctx.state.step === 3,\n            done: _ctx.state.step > 3,\n          }])\n            }, null, 2),\n            _createElementVNode(\"div\", _hoisted_20, _toDisplayString(_ctx.getStepInfoText3), 1)\n          ]),\n          _createElementVNode(\"div\", _hoisted_21, [\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"BridgeProcessor-info-icon\", {\n            none: _ctx.state.step < 4,\n            pending: _ctx.state.step === 4,\n            done: _ctx.state.step > 4,\n          }])\n            }, null, 2),\n            _createElementVNode(\"div\", _hoisted_22, _toDisplayString(_ctx.getStepInfoText4), 1)\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.isMintToncoinButtonVisible)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 4,\n          class: _normalizeClass([\"BridgeProcessor-getTonCoin\", { showLoader: _ctx.isMintingInProgress }]),\n          onClick: _cache[7] || (_cache[7] = \n//@ts-ignore\n(...args) => (_ctx.mint && _ctx.mint(...args)))\n        }, _toDisplayString(_ctx.$t(\"getToncoin\", {coin: _ctx.toCoin})), 3))\n      : _createCommentVNode(\"\", true),\n    (_ctx.isDoneButtonVisible)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 5,\n          class: \"BridgeProcessor-done\",\n          onClick: _cache[8] || (_cache[8] = \n//@ts-ignore\n(...args) => (_ctx.onDoneClick && _ctx.onDoneClick(...args)))\n        }, _toDisplayString(_ctx.$t(\"done\")), 1))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","import TonWeb from \"tonweb\";\n\nexport const checkNull = (a: any): void => {\n    if (a === null || a === undefined || a === '' || a === '0x') throw new Error('checkNull');\n    if ((typeof a === 'number') && isNaN(a)) throw new Error('checkNaN');\n}\n\nconst removeHexPrefix = (hex: string): string => {\n    if (hex.startsWith('0x')) {\n        hex = hex.substring(2);\n    }\n    if (hex.indexOf('0x') > -1) throw new Error('removeHexPrefix');\n    return hex;\n}\n\n/**\n * @returns hex WITHOUT 0x in lowercase\n */\nexport const bytesToHex = (bytes: Uint8Array): string => {\n    checkNull(bytes);\n    const a = Buffer.from(bytes).toString('hex');\n    const b = TonWeb.utils.bytesToHex(bytes);\n    if (a !== b) throw new Error('bytesToHex');\n    return a;\n}\n\nexport const bytesToBase64 = (bytes: Uint8Array): string => {\n    checkNull(bytes);\n    const a = Buffer.from(bytes).toString('base64');\n    const b = TonWeb.utils.bytesToBase64(bytes);\n    if (a !== b) throw new Error('bytesToBase64');\n    return a;\n}\n\n/**\n * @returns hex with or without 0x\n */\nexport const hexToBytes = (hex: string): Uint8Array => {\n    checkNull(hex);\n    hex = removeHexPrefix(hex);\n    const a = Uint8Array.from(Buffer.from(hex, 'hex'));\n    const b = TonWeb.utils.hexToBytes(hex);\n    if (a.join(',') !== b.join(',')) throw new Error('hexToBytes');\n    return a;\n}\n\nexport const base64ToBytes = (base64: string): Uint8Array => {\n    checkNull(base64);\n    const a = Uint8Array.from(Buffer.from(base64, 'base64'));\n    const b = TonWeb.utils.base64ToBytes(base64);\n    if (a.join(',') !== b.join(',')) throw new Error('base64ToBytes');\n    return a;\n}\n\nconst checkBN = (bn: any, bigInt: any): void => {\n    if (bn.toString(2) !== bigInt.toString(2)) throw new Error('checkBN');\n    if (bn.toString(10) !== bigInt.toString(10)) throw new Error('checkBN');\n    if (bn.toString(16) !== bigInt.toString(16)) throw new Error('checkBN');\n}\n\nexport const decToBN = (dec: string | number) /* BN */ => {\n    checkNull(dec);\n    const bn = new TonWeb.utils.BN(dec);\n    const bigInt = BigInt(dec);\n    checkBN(bn, bigInt);\n    return bn;\n}\n\n/**\n * @returns hex with or without 0x\n */\nexport const hexToBN = (hex: string) /* BN */ => {\n    checkNull(hex);\n    hex = removeHexPrefix(hex);\n\n    const bn = new TonWeb.utils.BN(hex, 16);\n    const bigInt = BigInt('0x' + hex);\n    checkBN(bn, bigInt);\n    return bn;\n}\n\n/**\n * @return hex starts with 0x in lowercase\n */\nexport const decToHex = (dec: string | number): string => {\n    checkNull(dec);\n    const bn = new TonWeb.utils.BN(dec);\n    const bigInt = BigInt(dec);\n    const a = bn.toString(16);\n    const b = bigInt.toString(16);\n    if (a !== b) throw new Error('decToHex');\n    return '0x' + a;\n}\n\n/**\n * @returns hex with or without 0x\n */\nexport const hexToDec = (hex: string): string => {\n    checkNull(hex);\n    hex = removeHexPrefix(hex);\n\n    const bn = new TonWeb.utils.BN(hex, 16);\n    const bigInt = BigInt('0x' + hex);\n    const a = bn.toString(10);\n    const b = bigInt.toString(10);\n    if (a !== b) throw new Error('hexToDec');\n    return a;\n}\n\nexport const calculateQueryId = (timeout: number, queryId: string) /* BN */ => {\n    checkNull(timeout);\n    checkNull(queryId);\n    queryId = removeHexPrefix(queryId);\n    const bn = decToBN(timeout).mul(decToBN(4294967296)).add(hexToBN(queryId))\n    const bigInt = BigInt(timeout) * BigInt(4294967296) + BigInt('0x' + queryId)\n    checkBN(bn, bigInt);\n    return bn;\n}\n\nexport const calculateToncoinFee = (amount: any /* BN */) /* BN */ => {\n    checkNull(amount);\n\n    const feeFlat = decToBN(5000000000);\n    const feeFactor = decToBN(25);\n    const feeBase = decToBN(10000);\n\n    const rest = amount.sub(feeFlat);\n    const percentFee = rest.mul(feeFactor).div(feeBase);\n    const bn = feeFlat.add(percentFee);\n\n    const _feeFlat = BigInt(5000000000);\n    const _feeFactor = BigInt(25);\n    const _feeBase = BigInt(10000);\n    const _rest = BigInt(amount.toString()) - _feeFlat;\n    const _percentFee = (_rest * _feeFactor) / _feeBase;\n    const bigInt = _feeFlat + _percentFee;\n\n    checkBN(bn, bigInt);\n\n    return bn;\n}\n\nexport const getTokenAmountAfterFee = (amount: any /* BN */) /* BN */ => {\n    checkNull(amount);\n    const bn = amount.sub(amount.div(new TonWeb.utils.BN(1000))); // 0.1% fee of token amount\n\n    const amountBigInt = BigInt(amount.toString());\n    const bigInt = amountBigInt - (amountBigInt / BigInt(1000));\n    if (bigInt > amountBigInt) {\n        throw new Error('')\n    }\n    checkBN(bn, bigInt);\n\n    return bn;\n}","import TonWeb from \"tonweb\";\nimport {Address} from \"tonweb/dist/types/utils/address\";\nimport {bytesToBase64, checkNull, decToBN} from \"./Paranoid\";\n\nconst OFFCHAIN_CONTENT_PREFIX = 0x01;\n\nconst parseUri = (bytes: any) => {\n    return new TextDecoder().decode(bytes);\n};\n\nconst parseOffchainUriCell = (cell: any) => {\n    if (cell.bits.array[0] !== OFFCHAIN_CONTENT_PREFIX) {\n        throw new Error(\"no OFFCHAIN_CONTENT_PREFIX\");\n    }\n\n    let length = 0;\n    let c = cell;\n    while (c) {\n        length += c.bits.array.length;\n        c = c.refs[0];\n    }\n\n    const bytes = new Uint8Array(length);\n    length = 0;\n    c = cell;\n    while (c) {\n        bytes.set(c.bits.array, length);\n        length += c.bits.array.length;\n        c = c.refs[0];\n    }\n    return parseUri(bytes.slice(1)); // slice OFFCHAIN_CONTENT_PREFIX\n};\n\nconst readIntFromBitString = (bs: any, cursor: any, bits: any) => {\n    let n = BigInt(0);\n    for (let i = 0; i < bits; i++) {\n        n *= BigInt(2);\n        n += BigInt(bs.get(cursor + i));\n    }\n    return n;\n};\n\nconst parseAddress = (cell: any): Address | null => {\n    let n = readIntFromBitString(cell.bits, 3, 8);\n    if (n > BigInt(127)) {\n        n = n - BigInt(256);\n    }\n    const hashPart = readIntFromBitString(cell.bits, 3 + 8, 256);\n    if (n.toString(10) + \":\" + hashPart.toString(16) === \"0:0\") return null;\n    const s = n.toString(10) + \":\" + hashPart.toString(16).padStart(64, \"0\");\n    return new TonWeb.Address(s);\n};\n\nexport async function getJettonWalletBalance(tonweb: any, jettonWalletAddress: string): Promise<any> { /* BN */\n    try {\n        const jettonWalletData = await tonweb.provider.call2(\n            jettonWalletAddress,\n            \"get_wallet_data\"\n        );\n        const balance = jettonWalletData[0];\n        return balance;\n    } catch (e: any) {\n        if (e.result.exit_code === -13) {\n            return decToBN(0);\n        } else {\n            throw e;\n        }\n    }\n}\n\nexport async function getJettonWalletData(tonweb: any, jettonWalletAddress: string) {\n    const jettonWalletData = await tonweb.provider.call2(\n        jettonWalletAddress,\n        \"get_wallet_data\"\n    );\n\n    const balance = jettonWalletData[0];\n    const ownerAddress = parseAddress(jettonWalletData[1]);\n    const jettonMinterAddress = parseAddress(jettonWalletData[2]);\n    const jettonWalletCode = jettonWalletData[3];\n\n    return {\n        balance,\n        ownerAddress,\n        jettonMinterAddress,\n        jettonWalletCode,\n    };\n}\n\nexport async function getJettonTotalSupply(tonweb: any, jettonMinterAddress: string): Promise<any> { /* BN */\n    try {\n        const jettonData = await tonweb.provider.call2(\n        jettonMinterAddress,\n        \"get_jetton_data\",\n        []\n    );\n        const totalSupply = jettonData[0];\n        return totalSupply;\n    } catch (e: any) {\n        if (e.result.exit_code === -13) {\n            return decToBN(0);\n        } else {\n            throw e;\n        }\n    }\n}\n\nexport async function getJettonData(tonweb: any, jettonMinterAddress: string) {\n    const jettonData = await tonweb.provider.call2(\n        jettonMinterAddress,\n        \"get_jetton_data\",\n        []\n    );\n    const totalSupply = jettonData[0];\n    const isMutable = jettonData[1].toNumber() === -1;\n    const adminAddress = parseAddress(jettonData[2]);\n    const jettonContentUri = parseOffchainUriCell(jettonData[3]);\n    const tokenWalletCode = jettonData[4];\n\n    return {\n        totalSupply,\n        isMutable,\n        adminAddress,\n        jettonContentUri,\n        tokenWalletCode,\n    };\n}\n\nexport async function getWrappedTokenData(tonweb: any, jettonWalletAddress: string): Promise<{\n    chainId: number,\n    tokenAddress: string,\n    decimals: number\n}> {\n    const wrappedTokenData = await tonweb.provider.call2(\n        jettonWalletAddress,\n        \"get_wrapped_token_data\",\n        []\n    );\n\n    const chainId = Number(wrappedTokenData[0].toString());\n    const tokenAddress = \"0x\" + wrappedTokenData[1].toString(\"hex\");\n    const decimals = Number(wrappedTokenData[2].toString());\n    checkNull(chainId);\n    checkNull(tokenAddress);\n    checkNull(decimals);\n    return {chainId, tokenAddress, decimals};\n}\n\nexport async function getJettonWalletAddress({\n                                                 tonweb,\n                                                 userTonAddress,\n                                                 tokenAddress,\n                                             }: {\n    tonweb: any;\n    userTonAddress: Address;\n    tokenAddress: string;\n}): Promise<Address | null> {\n    const cell = new TonWeb.boc.Cell();\n\n    cell.bits.writeAddress(userTonAddress);\n\n    const getWalletAddressResponse = await tonweb.provider.call2(\n        tokenAddress,\n        \"get_wallet_address\",\n        [[\"tvm.Slice\", bytesToBase64(await cell.toBoc(false))]]\n    );\n    const jettonWalletAddress = parseAddress(getWalletAddressResponse);\n    return jettonWalletAddress;\n}\n\nexport async function getJettonMinterAddress(\n    tonweb: any,\n    tonBridgeAddress: string,\n    wrappedTokenData: any /* Cell */\n): Promise<Address | null> {\n\n    const getWalletAddressResponse = await tonweb.provider.call2(\n        tonBridgeAddress,\n        \"get_minter_address\",\n        [[\"tvm.Cell\", bytesToBase64(await wrappedTokenData.toBoc(false))]]\n    );\n    const jettonMinterAddress = parseAddress(getWalletAddressResponse);\n    return jettonMinterAddress;\n}\n\nexport const getBridgeState = async (tonweb: any, configParam: number): Promise<number> => {\n    const cell = await tonweb.provider.getConfigParam(configParam);\n    const slice = cell.beginParse();\n    slice.loadUint(8); // prefix\n    slice.loadUint(256); // bridge_address_hash\n    slice.loadUint(256); // oracles_address_hash\n    slice.loadBit(); // oracles dict\n    const stateFlags = slice.loadUint(8);\n    return stateFlags.toNumber();\n}","import BN from \"bn.js\";\nimport TonWeb from \"tonweb\";\nimport { Address } from \"tonweb/dist/types/utils/address\";\nimport {decToBN} from \"@/ton-bridge-lib/Paranoid\";\n\nasync function burnJetton({\n  tonWallet,\n  destinationAddress,\n  userTonAddress,\n  jettonWalletAddress,\n  jettonAmountWithDecimals,\n}: {\n  tonWallet: any;\n  destinationAddress: BN;\n  userTonAddress: Address;\n  jettonWalletAddress: Address | null;\n  jettonAmountWithDecimals: BN;\n}) {\n  if (!jettonWalletAddress) return;\n  const burnOP = 0x595f07bc; // burn op\n  const queryId = new TonWeb.utils.BN(0);\n\n  const burnPayload = new TonWeb.boc.Cell();\n  burnPayload.bits.writeUint(burnOP, 32);\n  const customPayload = new TonWeb.boc.Cell();\n  customPayload.bits.writeUint(destinationAddress, 160);\n  burnPayload.bits.writeUint(queryId, 64);\n  burnPayload.bits.writeCoins(jettonAmountWithDecimals);\n  burnPayload.bits.writeAddress(userTonAddress);\n  burnPayload.bits.writeBit(1);\n  burnPayload.refs.push(customPayload);\n\n\n  await tonWallet.send(\"ton_sendTransaction\", [\n    {\n      to: jettonWalletAddress.toString(true, true, true),\n      value: TonWeb.utils.toNano(\"1\").toString(),\n      data: TonWeb.utils.bytesToBase64(await burnPayload.toBoc()),\n      dataType: \"boc\",\n    },\n  ]);\n}\n\nasync function mintJetton({\n  tonWallet,\n  queryId,\n  bridgeTonAddress,\n}: {\n  tonWallet: any;\n  queryId: string;\n  bridgeTonAddress: string;\n}) {\n  const mintOP = 8;\n\n  const mintPayload = new TonWeb.boc.Cell();\n  mintPayload.bits.writeUint(mintOP, 32);\n  mintPayload.bits.writeUint(decToBN(queryId), 64);\n  mintPayload.bits.writeUint(decToBN(queryId), 256);\n\n  await tonWallet.send(\"ton_sendTransaction\", [\n    {\n      to: bridgeTonAddress,\n      value: TonWeb.utils.toNano(\"1\").toString(),\n      data: TonWeb.utils.bytesToBase64(await mintPayload.toBoc()),\n      dataType: \"boc\",\n    },\n  ]);\n}\n\nexport { burnJetton, mintJetton };\n","function onCopyClick(e: MouseEvent) {\n  const target = e.target as any;\n\n  let timeout1: ReturnType<typeof setTimeout>;\n  let timeout2: ReturnType<typeof setTimeout>;\n\n  const triggerClass = (className: string) => {\n    if (target) {\n      target.classList.remove(className);\n      clearTimeout(timeout1);\n      clearTimeout(timeout2);\n\n      timeout1 = setTimeout(() => {\n        target.classList.add(className);\n      }, 17);\n\n      timeout2 = setTimeout(() => {\n        target.classList.remove(className);\n      }, 500);\n    }\n  };\n\n  if (navigator && navigator.clipboard && navigator.clipboard.writeText) {\n    navigator.clipboard.writeText(target.innerText).then(\n      function () {\n        triggerClass(\"success\");\n      },\n      function () {\n        triggerClass(\"failure\");\n      }\n    );\n  } else {\n    triggerClass(\"failure\");\n  }\n}\n\nexport { onCopyClick };\n","import TonWeb from \"tonweb\";\nimport {WalletContract} from \"tonweb/dist/types/contract/wallet/wallet-contract\";\nimport {hexToBN, base64ToBytes} from \"./Paranoid\";\n\nexport const getNumber = (pair: string[]): number => parseInt(pair[1], 16);\n\nexport const getBN = (pair: string[]) /* TonWeb.utils.BN */ => hexToBN(pair[1]);\n\nexport const findLogOutMsg = (outMessages?: any[]): any => {\n    if (!outMessages) return null;\n    for (const outMsg of outMessages) {\n        if (outMsg.destination === '') return outMsg;\n    }\n    return null;\n}\n\nexport const getRawMessageBytes = (logMsg: any): Uint8Array | null => {\n    if (!logMsg.message.endsWith('\\n')) throw new Error('need \\\\n');\n    const message = logMsg.message.substr(0, logMsg.message.length - 1); // remove '\\n' from end\n    return base64ToBytes(message);\n}\n\nexport const getTextMessageBytes = (logMsg: any): Uint8Array | null => {\n    const message = logMsg.msg_data?.text;\n    const textBytes = base64ToBytes(message);\n    const bytes = new Uint8Array(textBytes.length + 4);\n    bytes.set(textBytes, 4);\n    return bytes;\n}\n\nexport const getMessageBytes = (logMsg: any): Uint8Array | null => {\n    const msgType = logMsg.msg_data['@type'];\n    if (msgType === 'msg.dataText') {\n        return getTextMessageBytes(logMsg);\n    } else if (msgType === 'msg.dataRaw') {\n        return getRawMessageBytes(logMsg);\n    } else {\n        console.error('Unknown log msg type ' + msgType);\n        return null;\n    }\n}\n\nexport const makeAddress = (address: string): string => {\n    if (!address.startsWith('0x')) throw new Error('Invalid address ' + address);\n    let hex = address.substr(2);\n    while (hex.length < 40) {\n        hex = '0' + hex;\n    }\n    return '0x' + hex;\n}\n\nexport async function sendInternal(tonweb: TonWeb, wallet: WalletContract, secretKey: Uint8Array, byteArray: any /* Uint8Array | TonWeb.boc.Cell */, toAddress: string): Promise<boolean> {\n    let seqno = await wallet.methods.seqno().call();\n    if (!seqno) {\n        seqno = 0;\n    }\n    const query = await wallet.methods.transfer({\n        secretKey: secretKey,\n        toAddress: toAddress,\n        amount: TonWeb.utils.toNano('5'), // на газ, остаток вернется\n        seqno: seqno,\n        payload: byteArray,\n        sendMode: 3\n    });\n\n    const sendResponse = await query.send();\n    if (sendResponse[\"@type\"] === \"ok\") {\n        await wait(4000); // дадим выполниться чтобы далее получить верный seqno\n        return true;\n    } else {\n        console.error(sendResponse);\n        return false;\n    }\n}\n\nfunction wait(ms: number): Promise<void> {\n    return new Promise<void>(resolve => {\n        setTimeout(() => resolve(), ms);\n    });\n}","import TonWeb from \"tonweb\";\nimport {Bytes} from \"@ethersproject/bytes/src.ts\";\nimport {decToBN, decToHex, hexToBN, hexToDec} from \"./Paranoid\"\nimport {splitSignature} from \"ethers/lib/utils\";\nimport {makeAddress, sendInternal} from \"./BridgeTonUtils\";\nimport {WalletContract} from \"tonweb/dist/types/contract/wallet/wallet-contract\";\nimport {ethers} from \"ethers\";\n\nexport interface EvmSignature {\n    publicKey: string; // secp_key (ethereum oracle address) in hex, starts with 0x\n    r: string; // 256bit in hex, starts with 0x\n    s: string; // 256bit in hex, starts with 0x\n    v: number; // 8bit\n}\n\nexport interface EvmSignatures {\n    signatures: EvmSignature[];\n}\n\nconst checkV = (v: number): void => {\n    if (v !== 27 && v !== 28) throw new Error('invalid v');\n}\n\nexport const parseEvmSignature = (data: any): EvmSignature => {\n    const tuple: any[] = data.tuple.elements;\n    const publicKey: string = makeAddress(decToHex(tuple[0].number.number));\n\n    const rsv: any[] = tuple[1].tuple.elements;\n    const r: string = decToHex(rsv[0].number.number);\n    const s: string = decToHex(rsv[1].number.number);\n    const v: number = Number(rsv[2].number.number);\n    checkV(v);\n    return {\n        publicKey,\n        r,\n        s,\n        v\n    }\n}\n\n/**\n * @param voteId - hash of vote like '0xFF5856350817700B84368727835EEFE9BB10D8DB23FF4311F6936747ABC32308'\n */\nexport async function getEvmSignaturesFromCollector(tonweb: TonWeb, tonCollectorAddress: string, voteId: string): Promise<EvmSignatures | null> {\n    const intVoteId = hexToDec(voteId);\n    console.log('getEvmSignaturesFromCollector ', voteId, intVoteId);\n\n    const result: any = await tonweb.provider.call(tonCollectorAddress, 'get_external_voting_data', [['num', intVoteId]]);\n    console.log('getEvmSignaturesFromCollector raw result', result);\n    if (result.exit_code === 309) {\n        console.log('getEvmSignaturesFromCollector 309 no found')\n        return null;\n    }\n    const list: any[] = result.stack[0][1].elements;\n\n    const status: EvmSignatures = {\n        signatures: list.map(parseEvmSignature)\n    };\n    console.log('getEvmSignaturesFromCollector parsed result', status);\n\n    return status;\n}\n\nexport async function sendToCollector(tonweb: TonWeb, wallet: WalletContract, secretKey: Uint8Array, tonCollectorAddress: string, voteId: string, signature: Bytes | string): Promise<boolean> {\n    const myAddress = await wallet.getAddress();\n\n    console.log('sendToCollector voteId=', voteId, 'signature=', signature, 'from ' + myAddress.toString(true));\n\n    const s = splitSignature(signature);\n    checkV(s.v);\n\n    const bits = new TonWeb.boc.BitString(32 + 64 + 256 + 256 + 256 + 8);\n    bits.writeUint(decToBN(5), 32); // op\n    bits.writeUint(decToBN(0), 64); // query_id\n    bits.writeUint(hexToBN(voteId), 256);\n    bits.writeUint(hexToBN(s.r), 256);\n    bits.writeUint(hexToBN(s.s), 256);\n    bits.writeUint(decToBN(s.v), 8);\n\n    return sendInternal(tonweb, wallet, secretKey, bits.array, tonCollectorAddress);\n}\n\n/**\n * Prepare sorted signatures to send to EVM smart contract\n */\nexport function prepareEthSignatures(signatures: EvmSignature[]): { signer: string, signature: string }[] {\n    return signatures\n        .map(signature => {\n            return {\n                signer: signature.publicKey,\n                signature: ethers.utils.joinSignature({r: signature.r, s: signature.s, v: signature.v}),\n            };\n        })\n        .sort((a, b) => {\n            return hexToBN(a.signer).cmp(hexToBN(b.signer));\n        });\n}","import Web3 from \"web3\";\nimport {calculateQueryId} from \"./Paranoid\";\n\nexport interface TonAddress {\n    workchain: number; // int8\n    address_hash: string; // bytes32\n}\n\nexport interface TonTxID {\n    address_: TonAddress; // sender user TON address\n    tx_hash: string; // bytes32, transaction hash on TON bridge smart contract\n    lt: string; // uint64, transaction LT (logical time) on TON bridge smart contract\n}\n\nexport interface EvmTransaction {\n    blockTime: number;\n    blockHash: string;\n    transactionHash: string;\n    logIndex: number;\n}\n\nexport interface TonTransaction {\n    tx: TonTxID;\n}\n\nexport type NewOracleSet = string[]; // address[]\n\nexport interface Vote {\n    id: string;\n    data: string; // json\n    status: number;\n    statusTime: number; // in seconds\n}\n\nexport function hash(data: string): string {\n    const hash = Web3.utils.sha3(data)\n    if (!hash) throw new Error('empty hash');\n    return hash;\n}\n\nexport const MULTISIG_QUERY_TIMEOUT = 30 * 24 * 60 * 60; // 30 days\n\nexport function getQueryId(evmTransaction: EvmTransaction) /* BN */ {\n    const VERSION = 2;\n    const timeout = evmTransaction.blockTime + MULTISIG_QUERY_TIMEOUT + VERSION;\n\n    // web3@1.3.4 has an error in the algo for computing SHA\n    // it doesn't strictly check input string for valid HEX relying only for 0x prefix\n    // but the query string is formed that way: 0xBLOCKHASH + '_' + 0xTRANSACTIONHASH + '_' + LOGINDEX\n    // the keccak algo splits string to pairs of symbols, and treats them as hex bytes\n    // so _0 becames NaN, x7 becames NaN, d_ becames 13 (it only sees first d and skips invalid _)\n    // web3@1.6.1 has this error fixed, but for our case this means that we've got different hashes for different web3 versions\n    // and getLegacyQueryString code transforms query string in the way, that SHA from web3@1.6.1 can return the same exact value as web3@1.3.4\n    // for example:\n    // old one: 0xcad62a0e0090e30e0133586f86ed8b7d0d2eac5fa8ded73b8180931ff379b113_0x77e5617841b2d355fe588716b6f8f506b683e985fc98fdb819ddf566594d4cfd_64\n    // new one: 0xcad62a0e0090e30e0133586f86ed8b7d0d2eac5fa8ded73b8180931ff379b11300007e5617841b2d355fe588716b6f8f506b683e985fc98fdb819ddf566594d4cf0d64\n    // diff   :                                                                   ^^^^                                                              ^^\n    function getLegacyQueryString(str: string): string {\n        const strArr = str.split('');\n        strArr[66] = '0';\n        strArr[67] = '0';\n        strArr[68] = '0';\n        strArr[69] = '0';\n        strArr[133] = strArr[132];\n        strArr[132] = '0';\n        return strArr.join('');\n    }\n\n    const queryId = hash(\n        getLegacyQueryString(\n            evmTransaction.blockHash + '_' + evmTransaction.transactionHash + '_' + String(evmTransaction.logIndex)\n        )\n    ).substr(2, 8); // get first 32 bit\n\n    return calculateQueryId(timeout, queryId);\n}","import BN from \"bn.js\";\nimport { BigNumber, Contract } from \"ethers\";\n\nimport ERC20 from \"@/ton-bridge-lib/abi/ERC20.json\";\n\nimport { Provider } from \"../providers/provider\";\n\nexport class ERC20Contract {\n  contracts: { [key: string]: Contract } = {};\n\n  private provider: Provider;\n\n  constructor(provider: Provider) {\n    this.provider = provider;\n  }\n\n  _getContract(address: string) {\n    if (!Object.keys(this.contracts).includes(address)) {\n      return this._registerContract(address);\n    }\n    if (!this.contracts[address].provider) {\n      return this._registerContract(address);\n    }\n    return this.contracts[address];\n  }\n\n  _registerContract(address: string) {\n    // const contract = new provider.web3!.eth.Contract(ERC20.abi as any[], address);\n    const contract = new Contract(\n      address,\n      ERC20.abi,\n      (this.provider as any).provider\n    );\n    this.contracts[address] = contract;\n    return contract;\n  }\n\n  symbol(address: string): string {\n    const contract = this._getContract(address);\n    return contract.symbol();\n  }\n\n  decimals({ address }: { address: string }) {\n    const contract = this._getContract(address);\n    return contract.decimals();\n  }\n\n  balanceOf({\n    address,\n    account,\n  }: {\n    address: string;\n    account: string;\n  }): Promise<BN> {\n    const contract = this._getContract(address);\n    return contract.balanceOf(account);\n  }\n\n  allowance({\n    address,\n    owner,\n    spender,\n  }: {\n    address: string;\n    owner: string;\n    spender: string;\n  }): Promise<BigNumber> {\n    const contract = this._getContract(address);\n    return contract.allowance(owner, spender);\n  }\n\n  approve({\n    address,\n    spender,\n    amount,\n  }: {\n    address: string;\n    spender: string;\n    amount: string;\n  }): Promise<any> {\n    const contract = this._getContract(address);\n    return contract\n      .connect((this.provider as any).provider.getSigner()!)\n      .approve(spender, amount);\n  }\n}\n\n// const erc20Contract = new ERC20Contract();\n\n// export default erc20Contract;\n","import {decToBN} from \"./Paranoid\";\n\nexport const TOKEN_TON_TO_EVM_PERCENT_FEE_START_TIME = 1687780800; // 6 June 2023, 12:00:00 UTC\nexport const BLOCK_CONFIRMATIONS_COUNT = 65;\n\nexport function parseField(data: any, field: string | number): any {\n    const x: any = data[field];\n    if (x === null || x === undefined) throw new Error('no \"' + field + '\"');\n    return x;\n}\n\n// 0xfe8af310e07838c114ad6c3227e4a08aa2c0ae31f6c88f3cdffcd493f15e7299\nexport function parseEvmTxHash(data: any, field: string): string {\n    const s: string = parseField(data, field);\n    if (s.length !== 66 || !s.startsWith('0x')) throw new Error('invalid eth tx hash ' + s);\n    return s.toLowerCase();\n}\n\n// 0xef95f2f1ed3ca60b048b4bf67cde2195961e0bba6f70bcbea9a2c4e133e34b46\nexport function parseEvmBlockHash(data: any, field: string): string {\n    const s: string = parseField(data, field);\n    if (s.length !== 66 || !s.startsWith('0x')) throw new Error('invalid eth block hash ' + s);\n    return s.toLowerCase();\n}\n\n// 0x1FF516E5ce789085CFF86d37fc27747dF852a80a\nexport function parseEvmAddress(data: any, field: string): string {\n    const s: string = parseField(data, field);\n    if (s.length !== 42 || !s.startsWith('0x')) throw new Error('invalid eth address ' + s);\n    return s.toLowerCase();\n}\n\nexport function parseNumber(data: any, field: string): number {\n    const n: number = Number(parseField(data, field));\n    if (isNaN(n)) throw new Error('invalid number ' + n);\n    if (n < 0) throw new Error('number is negative ' + n);\n    return n;\n}\n\n// 0xE5BC34E7CD6D8669967B117CF7644A940571D169FB8DC9358C2D123A07DFB9A4\nexport function parseTonAddress(data: any, field: string): string {\n    const s: string = parseField(data, field);\n    if (s.length !== 66 || !s.startsWith('0x')) throw new Error('invalid ton address ' + s);\n    return s.slice(2).toLowerCase(); // slice '0x'\n}\n\nexport function parseWc(data: any, field: string): number {\n    const n: number = Number(parseField(data, field));\n    if (n !== 0 && n !== -1) throw new Error('invalid wc ' + n);\n    return n;\n}\n\nexport function parseDecimals(data: any, field: number): number {\n    const n: number = Number(parseField(data, field));\n    if (!((n >= 0) && (n <= 255))) throw new Error('invalid decimals ' + n);\n    return n;\n}\n\nexport function parseBN(data: any, field: string | number): string {\n    const s: string = parseField(data, field);\n    const bn = decToBN(s);\n    if (bn.lte(decToBN(0))) throw new Error('bn is negative ' + s);\n    return s;\n}","import {EvmTransaction, hash, TonAddress, TonTransaction, TonTxID} from \"./BridgeCommon\";\nimport Web3 from \"web3\";\nimport TonWeb from \"tonweb\";\nimport {Log, TransactionReceipt} from \"web3-core\";\nimport {\n    BLOCK_CONFIRMATIONS_COUNT,\n    parseBN,\n    parseEvmAddress,\n    parseEvmBlockHash,\n    parseEvmTxHash,\n    parseNumber,\n    parseTonAddress,\n    parseWc\n} from \"./BridgeEvmUtils\";\nimport {findLogOutMsg, getMessageBytes, makeAddress} from \"./BridgeTonUtils\";\nimport {base64ToBytes, bytesToHex, calculateToncoinFee, checkNull, decToBN, hexToBN} from \"./Paranoid\";\n\nconst BURN_INPUT_LENGTH = 202;\nconst BURN_INPUT_PREFIX = '0xe057fbff';\n\nexport interface SwapEthToTonEvent extends EvmTransaction {\n    type: 'SwapEthToTon';\n    transactionHash: string;\n    logIndex: number;\n    blockNumber: number;\n    blockTime: number;\n    blockHash: string;\n\n    from: string; // address\n    to: TonAddress;\n    value: string; // uint256\n\n    rawData: string;\n    topics: string[];\n    transactionIndex: number;\n}\n\nexport interface SwapTonToEth extends TonTransaction {\n    type: 'SwapTonToEth';\n    receiver: string; // address\n    amount: string; // uint64\n    tx: TonTxID;\n    time: number;\n}\n\nexport class ToncoinBridge {\n\n    static getFeeAmount(amount: any /* BN */) /* BN */ {\n        return calculateToncoinFee(amount)\n    }\n\n    static getDataId(web3: Web3, d: SwapTonToEth, target?: string): string {\n        checkNull(d.receiver);\n        checkNull(d.amount);\n        checkNull(d.tx.address_.workchain);\n        checkNull(d.tx.address_.address_hash);\n        checkNull(d.tx.tx_hash);\n        checkNull(d.tx.lt);\n        if (target) {\n            return hash(\n                web3.eth.abi.encodeParameters(\n                    ['int', 'address', 'address', 'uint256', 'int8', 'bytes32', 'bytes32', 'uint64'],\n                    [0xDA7A, target, d.receiver, d.amount, d.tx.address_.workchain, d.tx.address_.address_hash, d.tx.tx_hash, d.tx.lt]\n                )\n            );\n        } else { // ethereum mainnet Toncoin bridge hasn't `target`\n            return hash(\n                web3.eth.abi.encodeParameters(\n                    ['int', 'address', 'uint256', 'int8', 'bytes32', 'bytes32', 'uint64'],\n                    [0xDA7A, d.receiver, d.amount, d.tx.address_.workchain, d.tx.address_.address_hash, d.tx.tx_hash, d.tx.lt]\n                )\n            );\n        }\n    }\n\n    static getNewSetId(web3: Web3, setHash: number, addresses: string[], target?: string): string {\n        if (target) {\n            return hash(\n                web3.eth.abi.encodeParameters(\n                    ['int', 'address', 'int', 'address[]'],\n                    [0x5E7, target, setHash, addresses]\n                )\n            );\n        } else { // ethereum mainnet Toncoin bridge hasn't `target`\n            return hash(\n                web3.eth.abi.encodeParameters(\n                    ['int', 'int', 'address[]'],\n                    [0x5E7, setHash, addresses]\n                )\n            );\n        }\n    }\n\n    static getNewBurnStatusId(web3: Web3, newBurnStatus: boolean, nonce: number, target?: string): string {\n        if (target) {\n            return hash(\n                web3.eth.abi.encodeParameters(\n                    ['int', 'address', 'bool', 'int'],\n                    [0xB012, target, newBurnStatus, nonce]\n                )\n            );\n        } else { // ethereum mainnet Toncoin bridge hasn't `target`\n            return hash(\n                web3.eth.abi.encodeParameters(\n                    ['int', 'bool', 'int'],\n                    [0xB012, newBurnStatus, nonce]\n                )\n            );\n        }\n    }\n\n    static findLog = (web3: Web3, from: string, amount: string, workchain: string, addressHash: string, logs: Log[]): Log | null => {\n        let count = 0;\n        let result: Log | null = null;\n        for (const log of logs) {\n            if (log.topics.length === 3 &&\n                log.topics[1].toLowerCase().endsWith(from.substr(2)) &&\n                log.topics[2] === '0x' + addressHash) {\n                const decoded = web3.eth.abi.decodeParameters(\n                    ['int256', 'uint256'],\n                    log.data\n                );\n                if (decoded[0] === workchain && decoded[1] === amount) {\n                    result = log;\n                    count++;\n                }\n            }\n        }\n        if (count > 1) throw new Error('too many logs');\n        return result;\n    }\n\n    static createMultisigMsgBody(ethToTon: SwapEthToTonEvent) /* Cell */ {\n        const payload = new TonWeb.boc.Cell();\n        payload.bits.writeUint(decToBN(4), 32); // op\n        payload.bits.writeUint(decToBN(0), 8); // vote op\n        payload.bits.writeUint(hexToBN(ethToTon.transactionHash), 256);\n        payload.bits.writeInt(decToBN(ethToTon.logIndex), 16);\n        payload.bits.writeInt(ethToTon.to.workchain, 8);\n        payload.bits.writeUint(hexToBN(ethToTon.to.address_hash), 256);\n        payload.bits.writeUint(decToBN(ethToTon.value), 64);\n        return payload;\n    }\n\n    static isValidBurn = (tx: any, wtonAddress: string): boolean => {\n        if (tx.to.toLowerCase() !== wtonAddress.toLowerCase()) return false;\n        if (tx.from.toLowerCase() === wtonAddress.toLowerCase()) return false;\n        if (tx.isError !== '0') return false;\n        if (tx.txreceipt_status !== '1') return false;\n        if (!tx.input) return false;\n        if (tx.input.length !== BURN_INPUT_LENGTH) return false;\n        if (!tx.input.startsWith(BURN_INPUT_PREFIX)) return false;\n        if (tx.confirmations < BLOCK_CONFIRMATIONS_COUNT) return false;\n        return true;\n    }\n\n    static processEvmTransaction = async (web3: Web3, wtonAddress: string, tx: any, receipt: TransactionReceipt, currentBlockNumber: number): Promise<SwapEthToTonEvent> => {\n\n        // parse transaction\n\n        const blockNumber = parseNumber(tx, 'blockNumber');\n        const transactionHash = parseEvmTxHash(tx, 'hash');\n        const blockTime = parseNumber(tx, 'timeStamp');\n        const blockHash = parseEvmBlockHash(tx, 'blockHash');\n        const transactionIndex = parseNumber(tx, 'transactionIndex');\n        const from = parseEvmAddress(tx, 'from');\n        const to = parseEvmAddress(tx, 'to');\n        const input = tx.input;\n\n        // parse transaction input\n\n        if (input.length !== BURN_INPUT_LENGTH) throw new Error('invalid input length ' + input);\n        if (!input.startsWith(BURN_INPUT_PREFIX)) throw new Error(`input ${BURN_INPUT_PREFIX} ` + input);\n\n        // uint256 amount, int8 workchain, bytes32 address_hash\n        const decodedInput = web3.eth.abi.decodeParameters(\n            ['uint256', 'int8', 'bytes32'],\n            '0x' + input.slice(10)\n        );\n\n        const value = parseBN(decodedInput, '0');\n        const workchain = parseWc(decodedInput, '1');\n        const address_hash = parseTonAddress(decodedInput, '2');\n\n        // validate transaction\n\n        if (!receipt || Object.keys(receipt).length === 0) throw new Error('no receipt');\n        if (blockHash !== receipt.blockHash.toLowerCase()) throw new Error('invalid blockHash');\n        if (blockNumber !== receipt.blockNumber) throw new Error('invalid blockNumber');\n        if (from !== receipt.from.toLowerCase()) throw new Error('invalid from');\n        if (!receipt.status) throw new Error('invalid status');\n        if (wtonAddress.toLowerCase() !== receipt.to.toLowerCase()) throw new Error('invalid to');\n        if (transactionHash !== receipt.transactionHash.toLowerCase()) throw new Error('invalid transactionHash');\n        if (transactionIndex !== receipt.transactionIndex) throw new Error('invalid transactionIndex');\n\n        const log = ToncoinBridge.findLog(web3, from, value, workchain.toString(), address_hash, receipt.logs);\n        if (!log) throw new Error('cant find log');\n        const logIndex = parseNumber(log, 'logIndex');\n\n        if (currentBlockNumber - receipt.blockNumber < BLOCK_CONFIRMATIONS_COUNT) {\n            throw new Error('No block confirmations ' + (currentBlockNumber - receipt.blockNumber) + '(' + currentBlockNumber + '-' + receipt.blockNumber + ')');\n        }\n\n        return {\n            type: 'SwapEthToTon',\n            transactionHash,\n            logIndex, // 6\n            blockNumber, // 10132245\n            blockTime, // 1628967979\n            blockHash,\n            from,\n            to: {\n                workchain,\n                address_hash\n            },\n            value, // '0',\n            rawData: log.data,\n            topics: log.topics,\n            transactionIndex,\n        }\n    }\n\n    /**\n     * @param t transaction from ton-http-api\n     */\n    static processTonTransaction = (t: any): SwapTonToEth | null => {\n\n        // find log message\n\n        const logMsg = findLogOutMsg(t.out_msgs);\n        if (!logMsg) {\n            return null;\n        }\n\n        const bytes = getMessageBytes(logMsg);\n        if (bytes === null) {\n            return null;\n        }\n        if (bytes.length !== 28) {\n            return null;\n        }\n\n        // parse log message\n\n        const destinationAddress = makeAddress('0x' + bytesToHex(bytes.slice(0, 20)));\n        const amountHex = bytesToHex(bytes.slice(20, 28));\n        const amount = hexToBN(amountHex);\n        const senderAddress = new TonWeb.utils.Address(t.in_msg.source);\n\n        // validate log message\n\n        const msgText = new TextDecoder().decode(base64ToBytes(t.in_msg.msg_data.text));\n        if (!msgText.startsWith('swapTo#')) throw new Error('need swapTo#');\n        const addressFromInMsg = msgText.slice('swapTo#'.length);\n        if (destinationAddress.toLowerCase() !== addressFromInMsg.toLowerCase()) {\n            console.error('address from in_msg doesnt match ', addressFromInMsg, destinationAddress);\n            return null;\n        }\n        const amountFromInMsg = decToBN(t.in_msg.value);\n        const amountFromInMsgAfterFee = amountFromInMsg.sub(ToncoinBridge.getFeeAmount(amountFromInMsg));\n        if (!amount.eq(amountFromInMsgAfterFee)) {\n            console.error('amount from in_msg doesnt match ', amount.toString(), amountFromInMsgAfterFee.toString(), amountFromInMsg.toString());\n            return null;\n        }\n\n        return {\n            type: 'SwapTonToEth',\n            receiver: destinationAddress,\n            amount: amount.toString(),\n            tx: {\n                address_: {\n                    workchain: senderAddress.wc,\n                    address_hash: '0x' + bytesToHex(senderAddress.hashPart),\n                },\n                tx_hash: '0x' + bytesToHex(base64ToBytes(t.transaction_id.hash)),\n                lt: t.transaction_id.lt,\n            },\n            time: Number(t.utime)\n        };\n    }\n}","import Web3 from \"web3\";\nimport {base64ToBytes, bytesToHex, checkNull, decToBN, getTokenAmountAfterFee, hexToBN} from \"./Paranoid\";\nimport {hash, EvmTransaction, TonTransaction, TonTxID} from \"./BridgeCommon\";\nimport TonWeb from \"tonweb\";\nimport {Log, TransactionReceipt} from \"web3-core\";\nimport {\n    BLOCK_CONFIRMATIONS_COUNT, parseBN, parseDecimals,\n    parseEvmAddress,\n    parseEvmBlockHash,\n    parseEvmTxHash,\n    parseNumber, parseTonAddress, TOKEN_TON_TO_EVM_PERCENT_FEE_START_TIME\n} from \"./BridgeEvmUtils\";\nimport {findLogOutMsg, getMessageBytes, makeAddress} from \"./BridgeTonUtils\";\n\nconst LOCK_INPUT_LENGTH = 202;\nconst LOCK_INPUT_PREFIX = '0xca3369c6';\n\n// uint256 value, uint256 new_balance, uint8 decimals\nexport const lockEventDataTypes = ['uint256', 'uint256', 'uint8'];\n\nexport interface LockEvent extends EvmTransaction {\n    type: 'Lock';\n    transactionHash: string;\n    logIndex: number;\n    blockNumber: number;\n    blockTime: number;\n    blockHash: string;\n\n    from: string;\n    token: string;\n    to_address_hash: string; // bytes32\n    amount: string;\n    decimals: number;\n\n    rawData: string;\n    topics: string[];\n    transactionIndex: number;\n}\n\nexport interface BurnEvent extends TonTransaction { // ton event\n    type: 'Burn';\n    ethReceiver: string; // EVM-address, 160bit\n    jettonAmount: string; // VarUint 16, after fee\n    token: string; // EVM-address, 160bit\n    tx: TonTxID; // user sender address (ordinary wallet) && tx on bridge\n    time: number; // time of tx on bridge\n    jettonMinterAddress: string;\n}\n\nexport interface PayJettonMintEvent extends TonTransaction {\n    type: 'PayJettonMint',\n    queryId: string; // BN\n    tx: TonTxID; // user sender address (ordinary wallet) && tx on bridge\n    time: number; // time of tx on bridge\n}\n\nexport class TokenBridge {\n\n    static getDataId(\n        web3: Web3,\n        event: BurnEvent,\n        target: string,\n        chainId: number\n    ): string {\n        checkNull(target);\n        checkNull(chainId);\n        checkNull(event.ethReceiver);\n        checkNull(event.token);\n        checkNull(event.jettonAmount);\n        checkNull(event.tx.address_.address_hash);\n        checkNull(event.tx.tx_hash);\n        checkNull(event.tx.lt);\n        return hash(\n            web3.eth.abi.encodeParameters(\n                [\n                    'int',\n                    'address',\n                    'uint256',\n                    'address',\n                    'address',\n                    'uint256',\n                    'bytes32',\n                    'bytes32',\n                    'uint64',\n                ],\n                [\n                    0xda7a,\n                    target,\n                    chainId,\n                    event.ethReceiver,\n                    event.token,\n                    event.jettonAmount,\n                    event.tx.address_.address_hash,\n                    event.tx.tx_hash,\n                    event.tx.lt,\n                ]\n            )\n        );\n    }\n\n    static getNewSetId(web3: Web3, setHash: number, addresses: string[], target: string, chainId: number): string {\n        return hash(\n            web3.eth.abi.encodeParameters(\n                ['int', 'address', 'uint256', 'int', 'address[]'],\n                [0x5E7, target, chainId, setHash, addresses]\n            )\n        );\n    }\n\n    static getNewLockStatusId(web3: Web3, newLockStatus: boolean, nonce: number, target: string, chainId: number): string {\n        checkNull(newLockStatus);\n        checkNull(nonce);\n        checkNull(target);\n        checkNull(chainId);\n        return hash(\n            web3.eth.abi.encodeParameters(\n                ['int', 'address', 'uint256', 'bool', 'int'],\n                [0xB012, target, chainId, newLockStatus, nonce]\n            )\n        );\n    }\n\n    static findLog = (web3: Web3, from: string, amount: string, addressHash: string, token: string, logs: Log[]): Log | null => {\n        let count = 0;\n        let result: Log | null = null;\n        for (const log of logs) {\n            if (\n                log.topics.length === 4 &&\n                log.topics[1].toLowerCase().endsWith(from.substr(2)) &&\n                log.topics[2].toLowerCase().endsWith(token.substr(2)) &&\n                log.topics[3] === '0x' + addressHash\n            ) {\n                if (log.data.length !== 194) {\n                    throw new Error('invalid Lock event data length');\n                }\n\n                result = log;\n                count++;\n            }\n        }\n        if (count > 1) throw new Error('too many logs');\n        return result;\n    }\n\n    static createWrappedTokenData = (chainId: number, tokenAddress: string, decimals: number) => {\n        const wrappedTokenData = new TonWeb.boc.Cell();\n        wrappedTokenData.bits.writeUint(decToBN(chainId), 32);\n        wrappedTokenData.bits.writeUint(\n            hexToBN(tokenAddress),\n            160\n        );\n        wrappedTokenData.bits.writeUint(decToBN(decimals), 8);\n        return wrappedTokenData;\n    }\n\n    static createMultisigMsgBody(lockEvent: LockEvent, queryId: any /* BN */, chainId: number): any /* BitString */ {\n        const payload = new TonWeb.boc.Cell();\n        payload.bits.writeUint(decToBN(4), 32); // op\n        payload.bits.writeUint(queryId, 64); //query id for execute voting\n        payload.bits.writeUint(decToBN(0), 8); // execute voting op\n        payload.bits.writeUint(\n            hexToBN(lockEvent.transactionHash),\n            256\n        );\n        payload.bits.writeInt(decToBN(lockEvent.logIndex), 16);\n        payload.bits.writeUint(\n            hexToBN(lockEvent.to_address_hash),\n            256\n        );\n        payload.bits.writeCoins(decToBN(lockEvent.amount)); // mint_jetton_amount\n        payload.bits.writeCoins(decToBN(0)); // forward_coins_amount\n\n        payload.refs.push(this.createWrappedTokenData(chainId, lockEvent.token, lockEvent.decimals));\n        return payload;\n    }\n\n    static isValidLock = (tx: any, bridgeAddress: string): boolean => {\n        if (tx.to.toLowerCase() !== bridgeAddress.toLowerCase()) return false;\n        if (tx.from.toLowerCase() === bridgeAddress.toLowerCase()) return false;\n        if (tx.isError !== '0') return false;\n        if (tx.txreceipt_status !== '1') return false;\n        if (!tx.input) return false;\n        if (tx.input.length !== LOCK_INPUT_LENGTH) return false;\n        if (!tx.input.startsWith(LOCK_INPUT_PREFIX)) return false;\n        if (tx.confirmations < BLOCK_CONFIRMATIONS_COUNT) return false;\n        return true;\n    }\n\n    static processEvmTransaction = async (web3: Web3, bridgeAddress: string, tx: any, receipt: TransactionReceipt, currentBlockNumber: number): Promise<LockEvent> => {\n        // parse transaction\n\n        const blockNumber = parseNumber(tx, 'blockNumber');\n        const transactionHash = parseEvmTxHash(tx, 'hash');\n        const blockTime = parseNumber(tx, 'timeStamp');\n        const blockHash = parseEvmBlockHash(tx, 'blockHash');\n        const transactionIndex = parseNumber(tx, 'transactionIndex');\n        const from = parseEvmAddress(tx, 'from');\n        const to = parseEvmAddress(tx, 'to');\n        const input = tx.input;\n\n        // parse transaction input\n\n        if (input.length !== LOCK_INPUT_LENGTH) throw new Error('invalid input length ' + input);\n        if (!input.startsWith(LOCK_INPUT_PREFIX)) throw new Error(`input ${LOCK_INPUT_PREFIX} ` + input);\n\n        // function lock(address token, uint256 amount, bytes32 to_address_hash)\n        const lockInputTypes = ['address', 'uint256', 'bytes32'];\n        const inputData = '0x' + input.slice(10); // without method signature\n        const decodedInput = web3.eth.abi.decodeParameters(lockInputTypes, inputData);\n\n        const token = parseEvmAddress(decodedInput, '0');\n        const amount = parseBN(decodedInput, '1');\n        const address_hash = parseTonAddress(decodedInput, '2');\n\n        // validate transaction\n\n        if (!receipt || Object.keys(receipt).length === 0) throw new Error('no receipt');\n        if (blockHash !== receipt.blockHash.toLowerCase()) throw new Error('invalid blockHash');\n        if (blockNumber !== receipt.blockNumber) throw new Error('invalid blockNumber');\n        if (from !== receipt.from.toLowerCase()) throw new Error('invalid from');\n        if (!receipt.status) throw new Error('invalid status');\n        if (bridgeAddress.toLowerCase() !== receipt.to.toLowerCase()) throw new Error('invalid to');\n        if (transactionHash !== receipt.transactionHash.toLowerCase()) throw new Error('invalid transactionHash');\n        if (transactionIndex !== receipt.transactionIndex) throw new Error('invalid transactionIndex');\n\n        const log = TokenBridge.findLog(web3, from, amount, address_hash, token, receipt.logs);\n        if (!log) throw new Error('cant find log');\n        const logIndex = parseNumber(log, 'logIndex');\n\n        if (currentBlockNumber - receipt.blockNumber < BLOCK_CONFIRMATIONS_COUNT) {\n            throw new Error('No block confirmations ' + (currentBlockNumber - receipt.blockNumber) + '(' + currentBlockNumber + '-' + receipt.blockNumber + ')');\n        }\n\n        const decoded = web3.eth.abi.decodeParameters(lockEventDataTypes, log.data);\n        const finalAmount = parseBN(decoded, 0)\n        const newBalance = parseBN(decoded, 1);\n        const decimals = parseDecimals(decoded, 2);\n\n        return {\n            type: 'Lock',\n            transactionHash,\n            logIndex,\n            blockNumber,\n            blockTime,\n            blockHash,\n\n            from,\n            token,\n            to_address_hash: address_hash,\n            amount: finalAmount,\n            decimals,\n\n            rawData: log.data,\n            topics: log.topics,\n            transactionIndex,\n        }\n    }\n\n    /**\n     * @param t transaction from ton-http-api\n     */\n    static processTonTransaction = (t: any): BurnEvent | null => {\n\n        // find log message\n\n        const logMsg = findLogOutMsg(t.out_msgs);\n        if (!logMsg) {\n            return null;\n        }\n\n        const bytes = getMessageBytes(logMsg);\n        if (bytes === null) {\n            return null;\n        }\n\n        if (bytes.length !== 88) { // (160 + 128 + 160 + 256) / 8\n            return null;\n        }\n\n        // parse log message\n\n        const destinationAddress = makeAddress('0x' + bytesToHex(bytes.slice(0, 20)));\n        const amountHex = bytesToHex(bytes.slice(20, 36));\n        let amount = hexToBN(amountHex);\n        const tokenAddress = makeAddress('0x' + bytesToHex(bytes.slice(36, 56)));\n        const userSenderAddressHex = bytesToHex(bytes.slice(56, 56 + 32))\n        const minterSenderAddress = new TonWeb.utils.Address(t.in_msg.source);\n\n        if (Number(t.utime) > TOKEN_TON_TO_EVM_PERCENT_FEE_START_TIME) {\n            amount = getTokenAmountAfterFee(amount); // 0.1% fee of token amount\n        }\n\n        return {\n            type: 'Burn',\n            ethReceiver: destinationAddress,\n            token: tokenAddress,\n            jettonAmount: amount.toString(),\n            tx: {\n                address_: {\n                    workchain: 0,\n                    address_hash: '0x' + userSenderAddressHex\n                },\n                tx_hash:\n                    '0x' +\n                    bytesToHex(\n                        base64ToBytes(t.transaction_id.hash),\n                    ),\n                lt: t.transaction_id.lt,\n            },\n            time: Number(t.utime),\n            jettonMinterAddress: minterSenderAddress.toString()\n        };\n    }\n\n    /**\n     * @param t transaction from ton-http-api\n     */\n    static processPayJettonMintTransaction = (t: any): PayJettonMintEvent | null => {\n\n        // find log message\n\n        const logMsg = findLogOutMsg(t.out_msgs);\n        if (!logMsg) {\n            return null;\n        }\n\n        const bytes = getMessageBytes(logMsg);\n        if (bytes === null) {\n            return null;\n        }\n\n        if (bytes.length !== 32) { // 256 bit\n            return null;\n        }\n\n        // parse log message\n        const queryIdHex = bytesToHex(bytes.slice(0, 32));\n        const queryId = hexToBN(queryIdHex);\n        const userSenderAddress = new TonWeb.utils.Address(t.in_msg.source);\n\n        return {\n            type: 'PayJettonMint',\n            queryId: queryId.toString(),\n            tx: {\n                address_: {\n                    workchain: userSenderAddress.wc,\n                    address_hash: '0x' + bytesToHex(userSenderAddress.hashPart)\n                },\n                tx_hash:\n                    '0x' +\n                    bytesToHex(\n                        base64ToBytes(t.transaction_id.hash),\n                    ),\n                lt: t.transaction_id.lt,\n            },\n            time: Number(t.utime),\n        };\n    }\n\n}","import {EvmTransaction, getQueryId} from \"./BridgeCommon\";\nimport TonWeb from \"tonweb\";\nimport {sendInternal, getNumber} from \"./BridgeTonUtils\";\nimport {WalletContract} from \"tonweb/dist/types/contract/wallet/wallet-contract\";\nimport {decToBN} from \"./Paranoid\";\n\nexport function getMultisigWalletId(chainId: number): number {\n    switch (chainId) {\n        case 56: // BSC mainnet\n            return 156;\n        case 97: // BSC testnet\n            return 97;\n        case 1: // ETH mainnet\n            return 101;\n        case 5: // ETH testnet Goerli\n            return 5;\n    }\n    throw new Error('unknown chainId ' + chainId);\n}\n\nexport async function getVotesInMultisig(tonweb: TonWeb, tonMultisigAddress: string, queryId: string, oraclesTotal: number): Promise<null | number[]> {\n    console.log(\"getVotesInMultisig \", queryId);\n\n    const result: any = await tonweb.provider.call(tonMultisigAddress, 'get_query_state', [[\"num\", queryId]]);\n\n    const a = getNumber(result.stack[0]);\n    const b = getNumber(result.stack[1]);\n\n    const arr: number[] = [];\n\n    const count = a === -1 ? oraclesTotal : b.toString(2).split('0').join('').length; // count of bits\n\n    for (let i = 0; i < count; i++) {\n        arr.push(1);\n    }\n    return arr;\n}\n\nexport async function hasMyVoteInMultisig(tonweb: TonWeb, tonMultisigAddress: string, tonMultisigIndex: number, ethToTon: EvmTransaction): Promise<boolean> {\n    const queryId = getQueryId(ethToTon).toString();\n\n    console.log('hasMyVoteInMultisig ', queryId);\n\n    const result: any = await tonweb.provider.call(tonMultisigAddress, 'message_signed_by_id?', [['num', tonMultisigIndex], ['num', queryId]]);\n    console.log('hasMyVoteInMultisig raw result', result);\n    const stack: any[] = result.stack;\n\n    return getNumber(stack[0]) === -1;\n}\n\nexport async function sendToMultisig(tonweb: TonWeb, wallet: WalletContract, secretKey: Uint8Array, tonMultisigAddress: string, tonMultisigIndex: number, chainId: number, tonBridgeAddress: string, ethToTon: EvmTransaction, payload: any /* Cell */): Promise<boolean> {\n    const myAddress = await wallet.getAddress();\n    const queryId = getQueryId(ethToTon);\n    console.log('sendToMultisig', ethToTon, 'from ' + myAddress.toString(true) + ' with query id ' + queryId.toString() + ' and index ' + tonMultisigIndex + ' to ' + tonMultisigAddress);\n\n    const WALLET_ID = getMultisigWalletId(chainId);\n\n    const orderHeader = TonWeb.Contract.createInternalMessageHeader(new TonWeb.utils.Address(tonBridgeAddress), TonWeb.utils.toNano('0.5'));\n    const msgToBridge = TonWeb.Contract.createCommonMsgInfo(orderHeader, undefined, payload);\n\n    const cell = new TonWeb.boc.Cell();\n    cell.bits.writeUint(decToBN(tonMultisigIndex), 8);\n    cell.bits.writeBit(0); // null signatures dict\n    cell.bits.writeUint(decToBN(WALLET_ID), 32);\n    cell.bits.writeUint(queryId, 64);\n    cell.bits.writeUint(decToBN(3), 8); // send mode 3\n    cell.refs.push(msgToBridge);\n\n    const rootHash: Uint8Array = await cell.hash();\n    const rootSignature: Uint8Array = TonWeb.utils.nacl.sign.detached(rootHash, secretKey);\n\n    const body = new TonWeb.boc.Cell();\n    body.bits.writeBytes(rootSignature);\n    body.writeCell(cell);\n    return sendInternal(tonweb, wallet, secretKey, body, tonMultisigAddress);\n}","\nimport {MaxInt256} from \"@ethersproject/constants\";\nimport {formatUnits, parseUnits} from \"@ethersproject/units\";\nimport BN from \"bn.js\";\nimport {debounce} from \"lodash\";\nimport QRCodeStyling, {Options} from \"qr-code-styling\";\nimport TonWeb from \"tonweb\";\nimport {defineComponent, PropType} from \"vue\";\nimport {mapMutations} from \"vuex\";\nimport Web3 from \"web3\";\nimport {AbiItem} from \"web3-utils\";\n\nimport BRIDGE from \"@/ton-bridge-lib/abi/TokenBridge.json\";\nimport WTON_BRIDGE from \"@/ton-bridge-lib/abi/WTON.json\";\nimport {\n  getJettonMinterAddress,\n  getJettonWalletAddress,\n  getJettonWalletBalance,\n  getWrappedTokenData,\n} from \"@/ton-bridge-lib/BridgeJettonUtils\";\nimport {burnJetton, mintJetton} from \"@/api/tonWallet\";\nimport {onCopyClick} from \"@/utils\";\nimport {PARAMS} from \"@/utils/constants\";\nimport {\n  EvmSignature,\n  getEvmSignaturesFromCollector,\n  parseEvmSignature,\n  prepareEthSignatures\n} from \"@/ton-bridge-lib/BridgeCollector\";\nimport {getQueryId} from \"@/ton-bridge-lib/BridgeCommon\";\nimport {Provider} from \"@/utils/providers/provider\";\nimport {ERC20Contract} from \"@/utils/services/ERC20.contract\";\n\nimport {ComponentData, ProviderDataForJettons, ProviderDataForToncoin,} from \"./types\";\nimport {SwapTonToEth, ToncoinBridge} from \"@/ton-bridge-lib/ToncoinBridge\";\nimport {BurnEvent, TokenBridge} from \"@/ton-bridge-lib/TokenBridge\";\nimport {makeAddress} from \"@/ton-bridge-lib/BridgeTonUtils\";\nimport {getVotesInMultisig} from \"@/ton-bridge-lib/BridgeMultisig\";\nimport {bytesToHex, hexToBN} from \"@/ton-bridge-lib/Paranoid\";\nimport {Address} from \"tonweb/dist/types/utils/address\";\n\nconst fromNano = TonWeb.utils.fromNano;\nconst toNano = TonWeb.utils.toNano;\n\nexport default defineComponent({\n  props: {\n    isTestnet: { // immutable parameter from url\n      type: Boolean,\n      required: true,\n    },\n    isRecover: { // immutable parameter from url\n      type: Boolean,\n      required: true,\n    },\n    lt: { // immutable parameter from url - ton transaction LT (logic time) in TON->EVM transfer\n      type: Number,\n      required: true,\n    },\n    hash: { // immutable parameter from url - ton transaction hash in TON->EVM transfer\n      type: String,\n      required: true,\n    },\n    evmHash: { // immutable parameter from url - EVM transaction hash in EVM->TON transfer\n      type: String,\n      required: true,\n    },\n    isFromTon: {\n      type: Boolean,\n      required: true,\n    },\n    pair: { // \"eth\" or \"bsc\"\n      type: String,\n      required: true,\n    },\n    tokenAddress: { // Ethereum or TON token address\n      type: String,\n      required: true\n    },\n    tokenSymbol: {\n      type: String,\n      required: true\n    },\n    amount: { // float as string\n      type: String,\n      required: true,\n    },\n    token: { // \"ton\" | \"usdt\" | \"usdc\" | \"dai\" | \"wbtc\" | \"otherTokens\"\n      type: String,\n      required: true,\n    },\n    toAddress: { // Ethereum or TON to address\n      type: String,\n      required: true,\n    },\n    ethereumProvider: { // Ethereum provider\n      type: Object as PropType<Provider>,\n      required: true,\n    },\n    isInputsValid: {\n      type: Boolean,\n      required: true,\n    },\n  },\n\n  data(): ComponentData {\n    return {\n      updateStateIntervalForToncoin: null, // setInterval ID\n      updateStateIntervalForJettons: null, // setInterval ID\n      providerDataForToncoin: null,\n      providerDataForJettons: null,\n      ethToTon: null,\n      isInitInProgress: false,\n      isMintingInProgress: false,\n      isApprovingInProgress: false, // approving ERC-20 token in token transfer\n      isGetAllowanceInProcess: false, // get allowance of ERC-20 token in token transfer\n      isGetAllowanceError: true,\n      isBurningInProgress: false,\n      isLockingInProgress: false,\n\n      isQRCodeShown: false,\n      hasApprove: false,\n\n      state: {\n        swapId: \"\",\n        queryId: \"0\",\n        jettonEvmAddress: \"\",\n        fromCurrencySent: false,\n        toCurrencySent: false,\n        step: 0, // 0-5 step\n        votes: [], // EvmSignature[] for ton->evm, number[] for evm->ton\n        swapData: null,\n        burnData: null,\n        createTime: 0,\n        blockNumber: 0,\n      },\n    };\n  },\n\n  computed: {\n    isToncoinTransfer(): boolean {\n      return this.token === \"ton\";\n    },\n    netTypeName(): string {\n      return this.isTestnet ? \"test\" : \"main\";\n    },\n    params(): ParamsNetwork {\n      const pairParams = PARAMS.networks[this.pair];\n      return pairParams[this.netTypeName as keyof typeof pairParams];\n    },\n    isMintToncoinButtonVisible(): boolean {\n      if (this.isToncoinTransfer) {\n        return (\n            this.isFromTon && !this.state.toCurrencySent && this.state.step === 4\n        );\n      } else {\n        if (this.isFromTon) {\n          return (\n              !this.state.toCurrencySent && this.state.step === 4\n          );\n        } else {\n          return this.state.step == 3;\n        }\n      }\n    },\n    isDoneButtonVisible(): boolean {\n      return this.state.step > 4;\n    },\n    isCancelButtonVisible(): boolean {\n      return this.isFromTon && this.state.step === 1;\n    },\n    fromCoin(): string {\n      return this.isFromTon\n          ? this.$t(`networks.ton.${this.netTypeName}.coinShort`)\n          : this.$t(`networks.${this.pair}.${this.netTypeName}.coinShort`);\n    },\n    toCoin(): string {\n      if (this.isToncoinTransfer) {\n        return !this.isFromTon\n            ? this.$t(`networks.ton.${this.netTypeName}.coinShort`)\n            : this.$t(`networks.${this.pair}.${this.netTypeName}.coinShort`);\n      } else {\n        return this.tokenSymbol;\n      }\n    },\n    getStepInfoText1(): any {\n      if (this.state.step === 1) {\n        if (this.isFromTon) {\n          if (this.isToncoinTransfer) {\n            const url = PARAMS.tonTransferUrl\n                .replace(\"<BRIDGE_ADDRESS>\", this.params.tonBridgeAddress)\n                .replace(\"<AMOUNT>\", toNano(this.amount).toString())\n                .replace(\"<TO_ADDRESS>\", this.toAddress);\n            return {\n              isOnlyText: false,\n              send1: this.$t(\"networks.ton.transactionSend1\"),\n              amountReadable: this.amount,\n              send2: this.$t(\"networks.ton.transactionSend2\"),\n              toAddress: this.params.tonBridgeAddress,\n              withComment: this.$t(\"networks.ton.transactionSendComment\"),\n              comment: \"swapTo#\" + this.toAddress,\n              openWalletLabel: this.$t(\"networks.ton.openWallet\"),\n              openWalletUrl: url,\n              generateQRCode: this.isQRCodeShown\n                  ? \"\"\n                  : this.$t(\"networks.ton.generateQRCode\"),\n              scanQRCode: this.isQRCodeShown\n                  ? this.$t(\"networks.ton.scanQRCode\")\n                  : \"\",\n            };\n          } else {\n            return {\n              isOnlyText: true,\n              text: this.state.fromCurrencySent\n                  ? this.$t(`networks.${this.pair}.transactionWait`)\n                  : this.$t(`networks.${this.pair}.transactionSend`, {\n                    provider: \"TON Wallet\",\n                  }),\n            };\n          }\n        } else {\n          return {\n            isOnlyText: true,\n            text: this.state.fromCurrencySent\n                ? this.$t(`networks.${this.pair}.transactionWait`)\n                : this.$t(`networks.${this.pair}.transactionSend`, {\n                  provider: this.ethereumProvider.title,\n                }),\n          };\n        }\n      } else {\n        const pair = this.isFromTon ? \"ton\" : this.pair;\n        return {\n          isOnlyText: true,\n          text: this.$t(`networks.${pair}.transactionCompleted`),\n        };\n      }\n    },\n    getStepInfoText2(): string {\n      if (this.isFromTon) {\n        return \"\";\n      }\n      const providerData =\n          this.isToncoinTransfer\n              ? this.providerDataForToncoin\n              : this.providerDataForJettons;\n\n      if (this.state.step === 2) {\n        let blocksConfirmations =\n            (providerData?.blockNumber || this.state.blockNumber) -\n            this.state.blockNumber;\n        blocksConfirmations = Math.max(\n            Math.min(blocksConfirmations, this.params.blocksConfirmations),\n            0\n        );\n        return this.$t(`networks.${this.pair}.blocksConfirmations`, {\n          count:\n              String(blocksConfirmations) +\n              \"/\" +\n              String(this.params.blocksConfirmations),\n        });\n      } else if (this.state.step > 2) {\n        return this.$t(\"blocksConfirmationsCollected\");\n      } else {\n        return this.$t(\"blocksConfirmationsWaiting\");\n      }\n    },\n    getStepInfoText3(): string {\n      if (!this.isToncoinTransfer && !this.isFromTon) {\n        return this.getGetCoinsText(3, true);\n      } else {\n        return this.getOraclesText(3);\n      }\n    },\n    getStepInfoText4(): string {\n      if (!this.isToncoinTransfer && !this.isFromTon) {\n        return this.getOraclesText(4);\n      } else {\n        return this.getGetCoinsText(4, false);\n      }\n    },\n  },\n\n  watch: {\n    \"state.step\": {\n      immediate: true,\n      handler(val) {\n        this.$emit(\"state-changed\");\n        this.$emit(\"transfer-in-progress\", val > 0);\n      },\n    },\n    token: {\n      immediate: true,\n      handler(newValue) {\n        this.onTokenChange(newValue);\n      },\n    },\n  },\n\n  mounted(): void {\n    this.$watch(\n        () => this.amount + \"_\" + this.tokenAddress + \"_\" + this.ethereumProvider?.myAddress + \"_\" + this.token + \"_\" + this.isFromTon  + \"_\" + this.isInputsValid,\n        debounce(async () => {\n          this.checkAllowance();\n        }, 300)\n    );\n\n    this.checkAllowance();\n    this.$emit(\"ready\");\n  },\n\n  beforeDestroy(): void {\n    clearInterval(\n        this.updateStateIntervalForToncoin as ReturnType<typeof setInterval>\n    );\n    clearInterval(\n        this.updateStateIntervalForJettons as ReturnType<typeof setInterval>\n    );\n  },\n\n  methods: {\n    onCopyClick,\n    makeAddress,\n    parseEvmSignature,\n    getQueryId,\n    ...mapMutations({setAlert: \"setAlert\"}),\n    async mint(): Promise<void> {\n      if (this.isFromTon) {\n        if (this.isToncoinTransfer) {\n          await this.mintWrappedToncoin();\n        } else {\n          await this.unlockToken();\n        }\n      } else {\n        if (this.isToncoinTransfer) {\n          throw new Error('can never happen');\n        } else {\n          await this.mintJetton();\n        }\n      }\n    },\n    onTokenChange(newValue: string): void {\n      clearInterval(\n          this.updateStateIntervalForToncoin as ReturnType<typeof setInterval>\n      );\n      clearInterval(\n          this.updateStateIntervalForJettons as ReturnType<typeof setInterval>\n      );\n\n      if (newValue === \"ton\") {\n        this.updateStateForToncoin();\n        this.updateStateIntervalForToncoin = setInterval(\n            this.updateStateForToncoin,\n            5000\n        );\n      } else {\n        this.updateStateForJettons();\n        this.updateStateIntervalForJettons = setInterval(\n            this.updateStateForJettons,\n            5000\n        );\n      }\n    },\n\n\n    getOraclesText(oraclesStep: number): string {\n      if (this.state.step === oraclesStep) {\n        const providerData =\n            this.isToncoinTransfer\n                ? this.providerDataForToncoin\n                : this.providerDataForJettons;\n\n        const votesConfirmations =\n            this.state.votes.length +\n            \"/\" +\n            (providerData?.oraclesTotal || 0);\n        return this.$t(\"oraclesConfirmations\", {\n          count: String(votesConfirmations),\n        });\n      } else if (this.state.step > oraclesStep) {\n        return this.$t(\"oraclesConfirmationsCollected\");\n      } else {\n        return this.$t(\"oraclesConfirmationsWaiting\");\n      }\n    },\n\n    getGetCoinsText(getCoinsStep: number, isToncoinWallet: boolean): string {\n      const toCoins = this.toCoin || this.$t(\"tokens\")\n      if (this.state.step === getCoinsStep) {\n        return this.state.toCurrencySent\n            ? this.$t(`networks.${this.pair}.transactionWait`)\n            : this.$t(\"getCoinsByProvider\", {\n              provider: isToncoinWallet ? 'TON Wallet' : this.ethereumProvider.title,\n              toCoin: toCoins,\n            });\n      } else if (this.state.step > getCoinsStep) {\n        return this.$t(\"coinsSent\", {toCoin: toCoins});\n      } else {\n        const pair = this.isFromTon ? this.pair : \"ton\";\n        return this.$t(\"getCoins\", {\n          toCoin: toCoins,\n          toNetwork: this.$t(`networks.${pair}.${this.netTypeName}.name`),\n        });\n      }\n    },\n\n    generateQRCode(): void {\n      this.isQRCodeShown = true;\n\n      const url = PARAMS.tonTransferUrl\n          .replace(\"<BRIDGE_ADDRESS>\", this.params.tonBridgeAddress)\n          .replace(\"<AMOUNT>\", toNano(this.amount).toString())\n          .replace(\"<TO_ADDRESS>\", this.toAddress);\n\n      const options: Partial<Options> = {\n        data: url,\n        width: 225 * window.devicePixelRatio,\n        height: 225 * window.devicePixelRatio,\n        image: require(\"@/assets/pics/gem@large.png\"),\n        dotsOptions: {\n          color: \"#000000\",\n          type: \"extra-rounded\",\n        },\n        cornersSquareOptions: {\n          color: \"#000000\",\n          type: \"extra-rounded\",\n        },\n        cornersDotOptions: {\n          color: \"#000000\",\n          type: \"dot\",\n        },\n        imageOptions: {\n          hideBackgroundDots: true,\n          crossOrigin: \"use-credentials\",\n          imageSize: 1,\n        },\n        qrOptions: {\n          errorCorrectionLevel: \"L\",\n        },\n      };\n\n      const qrCode = new QRCodeStyling(options);\n      qrCode.append(this.$refs.qrcode as HTMLElement);\n    },\n    async initProvider(isToncoinTransfer: boolean): Promise<boolean> {\n      if (isToncoinTransfer) {\n        if (!this.providerDataForToncoin) {\n          this.providerDataForToncoin = await this.initProviderForToncoin();\n          if (!this.providerDataForToncoin) {\n            return false;\n          }\n        }\n      } else {\n        if (!this.providerDataForJettons) {\n          this.providerDataForJettons = await this.initProviderForJettons();\n          if (!this.providerDataForJettons) {\n            return false;\n          }\n        }\n      }\n      return true;\n    },\n    resetState(): void {\n      this.state.swapId = \"\";\n      this.state.queryId = \"0\";\n      this.state.jettonEvmAddress = \"\";\n      this.state.fromCurrencySent = false;\n      this.state.toCurrencySent = false;\n      this.state.step = 0;\n      this.state.votes = [];\n      this.state.swapData = null;\n      this.state.burnData = null;\n      this.state.createTime = 0;\n      this.state.blockNumber = 0;\n\n      this.isQRCodeShown = false;\n\n      this.$emit(\"reset-state\");\n    },\n    async loadState(state: any): Promise<boolean> {\n      if (!state || !state.processingState) {\n        return false;\n      }\n\n      this.isInitInProgress = true;\n      const isToncoinTransfer = state.token === 'ton';\n      if (!(await this.initProvider(isToncoinTransfer))) {\n        this.isInitInProgress = false;\n        return;\n      }\n\n      this.isInitInProgress = false;\n\n      Object.assign(this.state, state.processingState);\n      this.ethToTon = state.processingState.ethToTon;\n\n      if (isToncoinTransfer) {\n        await this.updateStateForToncoin();\n      } else {\n        await this.updateStateForJettons();\n      }\n\n      return true;\n    },\n    saveState(): void {\n      this.$emit(\"save-state\", {\n        ...this.state,\n        ethToTon: this.ethToTon,\n      });\n    },\n    deleteState(): void {\n      this.$emit(\"delete-state\");\n    },\n    async updateStateForToncoin(): Promise<void> {\n      const provider = this.providerDataForToncoin!;\n      const web3 = this.ethereumProvider.web3!;\n\n      // Step 1 - TON->EVM - find Toncoin transfer in TON network\n\n      if (this.state.step === 1 && this.isFromTon) {\n        const swap = await this.getSwapForToncoin(\n            toNano(this.amount),\n            this.toAddress,\n            this.state.createTime\n        );\n        if (swap) {\n          this.state.swapId = this.getSwapTonToEthIdForToncoin(swap);\n          this.state.swapData = swap;\n          this.state.step = 3;\n        }\n      }\n\n      // Step 2 - EVM->TON - collect block confirmations after Burn wrapped Toncoins in EVM-network\n\n      if (this.state.step === 2 && !this.isFromTon) {\n        const blockNumber = await web3.eth.getBlockNumber();\n        provider.blockNumber = blockNumber;\n\n        console.log(blockNumber, this.state.blockNumber);\n\n        const blocksConfirmations =\n            (blockNumber || this.state.blockNumber) -\n            this.state.blockNumber;\n\n        if (blocksConfirmations > this.params.blocksConfirmations) {\n          const receipt = await web3.eth.getTransactionReceipt(\n              this.ethToTon!.transactionHash\n          );\n          this.ethToTon!.blockNumber = receipt.blockNumber;\n          const block = await web3.eth.getBlock(\n              receipt.blockNumber\n          );\n          this.ethToTon!.blockTime = Number(block.timestamp);\n          this.ethToTon!.blockHash = block.hash;\n          const log = ToncoinBridge.findLog(web3, this.ethToTon!.from, this.ethToTon!.value, this.ethToTon!.to.workchain.toString(), this.ethToTon!.to.address_hash, receipt.logs);\n          if (!log) throw new Error('cant find log');\n          this.ethToTon!.logIndex = log.logIndex;\n\n          this.state.queryId = this.getQueryId(this.ethToTon!).toString();\n          this.state.step = 3;\n        }\n      }\n\n      // Step 3 - Collect oracles votes\n\n      if (this.state.step === 3) {\n        this.state.votes = this.isFromTon\n            ? await this.getEthVoteForToncoin(this.state.swapId)\n            : await this.getTonVoteForToncoin(this.state.queryId);\n        if (\n            this.state.votes.length >=\n            (provider.oraclesTotal * 2) / 3\n        ) {\n          this.state.step = this.isFromTon ? 4 : 5;\n        }\n      }\n    },\n    async updateStateForJettons(): Promise<void> {\n      const provider = this.providerDataForJettons!;\n      const web3 = this.ethereumProvider.web3!;\n\n      // Step 1 - TON->EVM - find jetton burn in TON network\n\n      if (this.state.step === 1 && this.isFromTon) {\n        const burn = await this.getSwapForJettons(\n            this.toAddress,\n            this.state.createTime\n        );\n        if (burn) {\n          this.state.swapId = this.getSwapTonToEthIdForJettons(burn);\n          this.state.burnData = burn;\n          this.state.step = 3;\n        }\n      }\n\n      // Step 2 - EVM->TON - collect block confirmations after Lock tokens in EVM-network\n\n      if (this.state.step === 2 && !this.isFromTon) {\n        const blockNumber = await web3.eth.getBlockNumber();\n        provider.blockNumber = blockNumber;\n\n        console.log(blockNumber, this.state.blockNumber);\n\n        const blocksConfirmations =\n            (blockNumber || this.state.blockNumber) -\n            this.state.blockNumber;\n\n        if (blocksConfirmations > this.params.blocksConfirmations) {\n          const receipt = await web3.eth.getTransactionReceipt(\n              this.ethToTon!.transactionHash\n          );\n          this.ethToTon!.blockNumber = receipt.blockNumber;\n          const block = await web3.eth.getBlock(\n              receipt.blockNumber\n          );\n\n          this.ethToTon!.blockTime = Number(block.timestamp);\n          this.ethToTon!.blockHash = block.hash;\n\n          const log = TokenBridge.findLog(web3, this.ethToTon!.from, this.ethToTon!.value, this.ethToTon!.to.address_hash, this.tokenAddress.toLowerCase(), receipt.logs);\n          if (!log) throw new Error('cant find log');\n          this.ethToTon!.logIndex = log.logIndex;\n\n          this.state.queryId = this.getQueryId(this.ethToTon!).toString();\n          this.state.step = 3;\n        }\n      }\n\n      // Step 3\n\n      if (this.state.step === 3) {\n        if (this.isFromTon) { // TON->EVM - Collect oracles votes for jetton burn\n          this.state.votes = await this.getEthVoteForJettons(this.state.swapId);\n\n          if (\n              this.state.votes.length >=\n              (provider.oraclesTotal * 2) / 3\n          ) {\n            this.state.step = 4;\n          }\n        } else { // EVM->TON - find mint pay in TON Network\n          const isPaid = await this.isJettonMintPaid(this.state.queryId);\n          console.log('isPaid', this.state.queryId, isPaid);\n          if (isPaid) {\n            this.state.step = 4;\n          }\n        }\n      }\n\n      // Step 4 - EVM->TON - Collect oracles votes for mint jetton in TON network\n\n      if (this.state.step === 4 && !this.isFromTon) {\n        this.state.votes = await this.getTonVoteForJettons(this.state.queryId);\n        if (\n            this.state.votes.length >=\n            (provider.oraclesTotal * 2) / 3\n        ) {\n          this.state.step = 5;\n        }\n      }\n    },\n    getSwapTonToEthIdForToncoin(d: SwapTonToEth): string {\n      const target = this.pair === \"eth\" && !this.isTestnet ? undefined : this.params.wTonAddress;\n      return ToncoinBridge.getDataId(this.ethereumProvider.web3!, d, target)\n    },\n    getSwapTonToEthIdForJettons(d: BurnEvent): string {\n      return TokenBridge.getDataId(this.ethereumProvider.web3!, d, this.params.tonBridgeV2EVMAddress, this.params.chainId);\n    },\n\n    getFeeAmountForToncoin(amount: BN): BN {\n      const provider = this.providerDataForToncoin!;\n      const rest = amount.sub(provider.feeFlat);\n      const percentFee = rest\n          .mul(provider.feeFactor)\n          .div(provider.feeBase);\n      return provider.feeFlat.add(percentFee);\n    },\n\n    async getSwapForToncoin(\n        myAmount: BN,\n        myToAddress: string,\n        myCreateTime: number\n    ): Promise<null | SwapTonToEth> {\n      const amountAfterFee = myAmount.sub(this.getFeeAmountForToncoin(myAmount));\n\n      const specifiedTransaction = this.lt && this.hash; // get specified transaction by its lt and hash\n      const isRecover = this.isRecover; // ignore createTime and find in more transactions\n\n      const provider = this.providerDataForToncoin!.tonweb.provider;\n\n      let transactions;\n\n      if (specifiedTransaction) {\n        console.log('Get Toncoin specified tx ' + this.lt + ':' + this.hash);\n        transactions = await provider.getTransactions(\n            this.params.tonBridgeAddress,\n            1,\n            this.lt,\n            this.hash,\n            undefined,\n            true\n        );\n      } else {\n        const limit = isRecover ? 200 : 40;\n        console.log(`Find Toncoin swap - get ${limit} ton txs`);\n        transactions = await provider.getTransactions(\n            this.params.tonBridgeAddress,\n            limit\n        );\n      }\n\n      console.log(`Find Toncoin swap - got ton ${transactions.length} txs`);\n\n      for (const t of transactions) {\n        if (!isRecover && !specifiedTransaction) {\n          if (t.utime * 1000 < myCreateTime) continue;\n        }\n\n        const event = ToncoinBridge.processTonTransaction(t);\n\n        if (event) {\n          console.log(JSON.stringify(event));\n\n          if (\n              new BN(event.amount).eq(amountAfterFee) &&\n              event.receiver.toLowerCase() === myToAddress.toLowerCase()\n          ) {\n            return event;\n          }\n        }\n      }\n      return null;\n    },\n\n    async isJettonMintPaid(queryId: string): Promise<boolean> {\n      const provider = this.providerDataForJettons!.tonweb.provider;\n      const isRecover = this.isRecover; // ignore createTime and find in more transactions\n      const limit = isRecover ? 200 : 40;\n      console.log(`Find Token paid - get ${limit} ton txs`);\n\n      const transactions: any[] =\n          await provider.getTransactions(\n              this.params.tonBridgeAddressV2,\n              limit\n          );\n\n      console.log(`Find Token paid - got ${transactions.length} ton txs`);\n\n      for (const t of transactions) {\n        const event = TokenBridge.processPayJettonMintTransaction(t);\n        if (event && event.queryId === queryId) {\n          console.log(event);\n          return true;\n        }\n      }\n      return false;\n    },\n\n    async getSwapForJettons(\n        // myAmount: BN,\n        myToAddress: string,\n        myCreateTime: number\n    ): Promise<null | BurnEvent> {\n      const specifiedTransaction = this.lt && this.hash; // get specified transaction by its lt and hash\n      const isRecover = this.isRecover; // ignore createTime and find in more transactions\n\n      const provider = this.providerDataForJettons!.tonweb.provider;\n\n      let transactions;\n\n      if (specifiedTransaction) {\n        console.log('Get Token specified tx ' + this.lt + ':' + this.hash);\n        transactions = await provider.getTransactions(\n            this.params.tonBridgeAddressV2,\n            1,\n            this.lt,\n            this.hash,\n            undefined,\n            true\n        );\n      } else {\n        const limit = isRecover ? 200 : 40;\n        console.log(`Find Token swap - get ${limit} ton txs`);\n        transactions = await provider.getTransactions(\n            this.params.tonBridgeAddressV2,\n            limit\n        );\n      }\n\n      console.log(`Find Token swap - got ton ${transactions.length} txs`);\n\n      for (const t of transactions) {\n        if (!isRecover && !specifiedTransaction) {\n          if (t.utime * 1000 < myCreateTime) continue;\n        }\n\n        const event = TokenBridge.processTonTransaction(t);\n\n        if (event) {\n          console.log(JSON.stringify(event));\n\n          if (\n              event.ethReceiver.toLowerCase() === myToAddress.toLowerCase() &&\n              this.state.jettonEvmAddress.toLowerCase() === event.token.toLowerCase()\n          ) {\n            // const swapId = this.getSwapTonToEthIdForJettons(event);\n            // let isVotingFinished = true;\n            // try {\n            //   isVotingFinished =\n            //       await this.providerDataForJettons!.bridgeContract.methods.finishedVotings(\n            //           swapId\n            //       ).call();\n            // } catch (error) {\n            //   console.error(error);\n            //   return null;\n            // }\n            // if (!isVotingFinished) {\n            // }\n            return event;\n          }\n        }\n      }\n      return null;\n    },\n    async getEthVoteForToncoin(voteId: string): Promise<EvmSignature[]> {\n      const result = await getEvmSignaturesFromCollector(this.providerDataForToncoin!.tonweb as any, this.params.tonCollectorAddress, voteId);\n      return result ? result.signatures : [];\n    },\n    async getEthVoteForJettons(voteId: string): Promise<EvmSignature[]> {\n      const result = await getEvmSignaturesFromCollector(this.providerDataForJettons!.tonweb as any, this.params.tonCollectorAddressV2, voteId);\n      return result ? result.signatures : [];\n    },\n    async getTonVoteForToncoin(queryId: string): Promise<number[]> {\n      return getVotesInMultisig(this.providerDataForToncoin!.tonweb as any, this.params.tonMultisigAddress, queryId, this.providerDataForToncoin!.oraclesTotal);\n    },\n    async getTonVoteForJettons(queryId: string): Promise<number[]> {\n      return getVotesInMultisig(this.providerDataForJettons!.tonweb as any, this.params.tonMultisigAddressV2, queryId, this.providerDataForJettons!.oraclesTotal);\n    },\n    onDoneClick(): void {\n      this.deleteState();\n      this.resetState();\n    },\n    onCancelClick(): void {\n      this.deleteState();\n      this.resetState();\n    },\n    /**\n     * Validate that Ethereum provider connected, has valid chain and ETH balance > 0\n     */\n    async validateEthereumProvider(): Promise<boolean> {\n      try {\n        if (!this.ethereumProvider.isConnected) {\n          const error = this.$t(\"errors.providerIsDisconnected\", {\n            provider: this.ethereumProvider.title,\n          });\n          throw new Error(error);\n        }\n\n        if (!this.ethereumProvider.myAddress) {\n          throw new Error(this.$t(\"errors.cantGetAddress\"));\n        }\n\n        if (this.ethereumProvider.chainId !== this.params.chainId) {\n          const error = this.$t(\"errors.wrongProviderNetwork\", {\n            network: this.$t(`networks.${this.pair}.${this.netTypeName}.name`),\n            provider: this.ethereumProvider.title,\n          });\n          throw new Error(error);\n        }\n\n        if (\n            !new BN(\n                await this.ethereumProvider.web3!.eth.getBalance(this.ethereumProvider.myAddress)\n            ).gt(new BN(\"0\"))\n        ) {\n          throw new Error(this.$t(`networks.${this.pair}.errors.lowBalance`));\n        }\n      } catch (e: any) {\n        console.error(e.message);\n        this.setAlert({\n          title: this.$t(\"errors.alertTitleError\"),\n          message: e.message,\n          buttonLabel: this.$t(\"errors.alertButtonClose\"),\n        });\n        return false;\n      }\n\n      return true;\n    },\n    async debugVoteForSwitchLock(): Promise<void> {\n      const unlockSignatures = [\n        {\n          signer: '0xe54CD631C97bE0767172AD16904688962d09d2FE',\n          signature: '0x53d5ede513368f6b01d88520b51cabdbd07a23d8b91614a211962c68165ef7b4726ea200897d8db55861c1e8862289321fc13579027c773572d6248deab761911c'\n        },\n        {\n          signer: '0xeb05E1B6AC0d574eF2CF29FDf01cC0bA3D8F9Bf1',\n          signature: '0xc931c3b089eece0b4cc150d387d4d1fbf65d75eff2e409b8b99738cc08cfe3573b6f16ee6c206ee968b5216dae04526c1a79d83ec025a0b93c733ecbc9f881371b'\n        },\n      ].sort((a, b) => {\n        return hexToBN(a.signer).cmp(hexToBN(b.signer));\n      });\n\n      await this.providerDataForJettons!.bridgeContract.methods\n          .voteForSwitchLock(true, 1, unlockSignatures)\n          .send({from: this.ethereumProvider.myAddress});\n    },\n    /**\n     * Mint Wrapped ERC-20 Toncoin in EVM network\n     * Last step in transfer\n     */\n    async mintWrappedToncoin(): Promise<void> {\n      if (this.isMintingInProgress) return;\n\n      if (!(await this.validateEthereumProvider())) return;\n\n      this.isMintingInProgress = true;\n\n      let receipt;\n      try {\n        const signatures = prepareEthSignatures(this.state.votes as EvmSignature[]);\n\n        receipt =\n            await this.providerDataForToncoin!.wtonContract.methods.voteForMinting(\n                this.state.swapData!,\n                signatures\n            )\n                .send({from: this.ethereumProvider.myAddress})\n                .on(\"transactionHash\", () => {\n                  this.state.toCurrencySent = true;\n                  this.isMintingInProgress = false;\n                  this.deleteState();\n                });\n      } catch (e) {\n        console.error(e);\n        this.isMintingInProgress = false;\n        return;\n      }\n\n      this.isMintingInProgress = false;\n\n      if (receipt.status) {\n        this.state.step = 5;\n        this.deleteState();\n      } else {\n        console.error(\"transaction fail\", receipt);\n      }\n    },\n    /**\n     * Burn Wrapped ERC-20 Toncoin in EVM network\n     * First step in transfer\n     */\n    async burnWrappedToncoin(): Promise<void> {\n      if (this.isBurningInProgress) {\n        return;\n      }\n\n      if (!(await this.validateEthereumProvider())) {\n        return;\n      }\n\n      const fromAddress = this.ethereumProvider.myAddress;\n      const toAddress = this.toAddress;\n      let amountUnits: string;\n      let wc: number;\n      let hashPart: string;\n\n      this.isBurningInProgress = true;\n\n      let receipt;\n      try {\n\n        const addressTon = new TonWeb.utils.Address(toAddress);\n        wc = addressTon.wc;\n        hashPart = bytesToHex(addressTon.hashPart);\n\n        amountUnits = toNano(this.amount).toString();\n\n        receipt = await this.providerDataForToncoin!.wtonContract.methods.burn(\n            amountUnits,\n            {\n              workchain: wc,\n              address_hash: \"0x\" + hashPart,\n            }\n        )\n            .send({from: fromAddress})\n            .on(\"transactionHash\", () => {\n              this.state.fromCurrencySent = true;\n            });\n      } catch (e) {\n        this.isBurningInProgress = false;\n        console.error(e);\n        this.resetState();\n        return;\n      }\n\n      if (receipt.status) {\n        console.log(\"receipt\", receipt);\n\n        this.state.blockNumber = receipt.blockNumber;\n        this.ethToTon = {\n          type: 'SwapEthToTon',\n          transactionHash: receipt.transactionHash,\n          logIndex: -1,\n          blockNumber: receipt.blockNumber,\n          blockTime: 0,\n          blockHash: \"\",\n\n          from: fromAddress,\n          to: {\n            workchain: wc,\n            address_hash: hashPart,\n          },\n          value: amountUnits,\n\n          rawData: receipt.rawData,\n          topics: receipt.topics,\n          transactionIndex: receipt.transactionIndex\n        };\n        this.isBurningInProgress = false;\n        this.state.step = 2;\n      } else {\n        this.isBurningInProgress = false;\n        console.error(\"transaction fail\", receipt);\n      }\n    },\n    /**\n     * Check allowance of ERC-20 token for token bridge in EVM network\n     */\n    async checkAllowance(): Promise<void> {\n      console.log('checkAllowance ' +  this.tokenAddress);\n      if (this.isFromTon || this.isToncoinTransfer || !this.isInputsValid || !this.ethereumProvider || !Web3.utils.isAddress(this.tokenAddress) || !this.amount) {\n        console.log('checkAllowance invalid values');\n        this.hasApprove = false;\n        this.isGetAllowanceError = true;\n        return;\n      }\n      if (!this.isFromTon && this.evmHash) { // Recover EVM->TON transfer\n        this.hasApprove = true;\n        this.isGetAllowanceInProcess = false;\n        this.isGetAllowanceError = false;\n        return;\n      }\n      const amount = this.amount;\n      const tokenAddress = this.tokenAddress\n      const myAddress: string = this.ethereumProvider.myAddress;\n\n      try {\n        this.isGetAllowanceInProcess = true;\n        const erc20Contract = new ERC20Contract(this.ethereumProvider);\n        const decimals = await erc20Contract.decimals({\n          address: tokenAddress\n        });\n        const amountUnits = parseUnits(amount, decimals).toString();\n        const allowanceUnits = await erc20Contract.allowance({\n          address: tokenAddress,\n          spender: this.params.tonBridgeV2EVMAddress,\n          owner: myAddress,\n        });\n        if (this.tokenAddress == tokenAddress && this.amount === amount && this.ethereumProvider?.myAddress === myAddress) {\n          console.log(allowanceUnits.toString());\n          console.log(amountUnits.toString());\n          this.hasApprove = new BN(allowanceUnits.toString()).gte(new BN(amountUnits));\n          this.isGetAllowanceInProcess = false;\n          this.isGetAllowanceError = false;\n        }\n      } catch (e) {\n        console.error(e);\n        this.hasApprove = false;\n        this.isGetAllowanceInProcess = false;\n        this.isGetAllowanceError = true;\n      }\n    },\n    /**\n     * Approve ERC-20 token for token bridge in EVM network\n     */\n    async onApproveClick(): Promise<void> {\n      if (this.isApprovingInProgress) {\n        return;\n      }\n\n      if (!this.isInputsValid) return;\n\n      if (!(await this.validateEthereumProvider())) {\n        return;\n      }\n\n      this.isApprovingInProgress = true;\n\n      const maxAmount = MaxInt256.toString();\n      try {\n        const erc20Contract = new ERC20Contract(this.ethereumProvider);\n        const tx = await erc20Contract.approve({\n          address: this.tokenAddress,\n          spender: this.params.tonBridgeV2EVMAddress,\n          amount: maxAmount,\n        });\n        await tx.wait();\n        this.hasApprove = true;\n        this.isApprovingInProgress = false;\n      } catch (e: any) {\n        console.error(e);\n        this.isApprovingInProgress = false;\n\n        this.setAlert({\n          title: this.$t(\"errors.alertTitleError\"),\n          message: e.message,\n          buttonLabel: this.$t(\"errors.alertButtonClose\"),\n        });\n      }\n    },\n    async recoverEvmToTonTransfer(): Promise<void> {\n      if (!(await this.validateEthereumProvider())) {\n        return;\n      }\n\n      const erc20Contract = new ERC20Contract(this.ethereumProvider);\n      const decimals = await erc20Contract.decimals({\n        address: this.tokenAddress,\n      });\n      const amountUnits = new BN(\n          parseUnits(this.amount, decimals).toString()\n      );\n\n      const fromAddress = this.ethereumProvider.myAddress;\n      const toAddress = this.toAddress;\n      const addressTon = new TonWeb.utils.Address(toAddress);\n      const wc = addressTon.wc;\n      if (wc !== 0) throw new Error('Only basechain wallets supported');\n      const hashPart = bytesToHex(addressTon.hashPart);\n\n      const web3 = this.ethereumProvider.web3!;\n      const receipt = await web3.eth.getTransactionReceipt(\n          this.evmHash\n      );\n\n      if (receipt.status) {\n        console.log(\"receipt\", receipt);\n\n        this.state.createTime = Date.now();\n        this.state.fromCurrencySent = true;\n        this.state.blockNumber = receipt.blockNumber;\n\n        this.ethToTon = {\n          type: 'SwapEthToTon',\n          transactionHash: receipt.transactionHash,\n          logIndex: -1,\n          blockNumber: receipt.blockNumber,\n          blockTime: 0,\n          blockHash: \"\",\n          from: fromAddress,\n          to: {\n            workchain: wc,\n            address_hash: hashPart,\n          },\n          value: amountUnits.toString(),\n\n          rawData: receipt.rawData,\n          topics: receipt.topics,\n          transactionIndex: receipt.transactionIndex\n        };\n\n        this.state.step = 2;\n        this.saveState();\n      }\n    },\n    /**\n     * Lock ERC-20 token in EVM network\n     * First step in transfer\n     */\n    async lockToken(amountUnits: BN): Promise<void> {\n      if (this.isBurningInProgress) {\n        return;\n      }\n\n      if (!(await this.validateEthereumProvider())) {\n        return;\n      }\n\n      const fromAddress = this.ethereumProvider.myAddress;\n      const toAddress = this.toAddress;\n      let wc: number;\n      let hashPart: string;\n\n      this.isBurningInProgress = true;\n\n      let receipt;\n      try {\n\n        const addressTon = new TonWeb.utils.Address(toAddress);\n        wc = addressTon.wc;\n        if (wc !== 0) throw new Error('Only basechain wallets supported');\n        hashPart = bytesToHex(addressTon.hashPart);\n\n        receipt = await this.providerDataForJettons!.bridgeContract.methods.lock(\n            this.tokenAddress, // token\n            amountUnits.toString(), // amount\n            \"0x\" + hashPart // to_address_hash\n        )\n            .send({from: fromAddress})\n            .on(\"transactionHash\", () => {\n              this.state.fromCurrencySent = true;\n            });\n      } catch (e) {\n        this.isBurningInProgress = false;\n        console.error(e);\n        this.resetState();\n        return;\n      }\n\n      if (receipt.status) {\n        console.log(\"receipt\", receipt);\n\n        this.state.blockNumber = receipt.blockNumber;\n\n        this.ethToTon = {\n          type: 'SwapEthToTon',\n          transactionHash: receipt.transactionHash,\n          logIndex: -1,\n          blockNumber: receipt.blockNumber,\n          blockTime: 0,\n          blockHash: \"\",\n          from: fromAddress,\n          to: {\n            workchain: wc,\n            address_hash: hashPart,\n          },\n          value: amountUnits.toString(),\n\n          rawData: receipt.rawData,\n          topics: receipt.topics,\n          transactionIndex: receipt.transactionIndex\n        };\n\n        this.isBurningInProgress = false;\n        this.state.step = 2;\n        this.saveState();\n      } else {\n        this.isBurningInProgress = false;\n        console.error(\"transaction fail\", receipt);\n      }\n    },\n    /**\n     * Unlock ERC-20 token in EVM network\n     * Last step in transfer\n     */\n    async unlockToken(): Promise<void> {\n      if (this.isMintingInProgress) return;\n\n      if (!(await this.validateEthereumProvider())) return;\n\n      this.isMintingInProgress = true;\n\n      let receipt;\n      try {\n        const signatures = prepareEthSignatures(this.state.votes as EvmSignature[]);\n\n        const burnData: BurnEvent = this.state.burnData;\n        if (!burnData) throw new Error('No burn data');\n\n        receipt =\n            await this.providerDataForJettons!.bridgeContract.methods.unlock(\n                {\n                  receiver: burnData.ethReceiver,\n                  token: burnData.token,\n                  amount: burnData.jettonAmount,\n                  tx: {\n                    address_hash: burnData.tx.address_.address_hash,\n                    tx_hash: burnData.tx.tx_hash,\n                    lt: burnData.tx.lt\n                  }\n                },\n                signatures,\n            )\n                .send({from: this.ethereumProvider.myAddress})\n                .on(\"transactionHash\", () => {\n                  this.state.toCurrencySent = true;\n                  this.isMintingInProgress = false;\n                  this.deleteState();\n                });\n      } catch (error) {\n        console.error(error);\n        this.isMintingInProgress = false;\n        return;\n      }\n\n      this.isMintingInProgress = false;\n\n      if (receipt.status) {\n        this.state.step = 5;\n        this.deleteState();\n      } else {\n        console.error(\"transaction fail\", receipt);\n      }\n    },\n    /**\n     * Pay mint jetton in TON Network\n     * Last action in transfer\n     */\n    async mintJetton(): Promise<void> {\n      if (this.isBurningInProgress) {\n        return;\n      }\n\n      if (!this.providerDataForJettons) return;\n\n      this.isBurningInProgress = true;\n\n      try {\n        await mintJetton({\n          tonWallet: this.providerDataForJettons.tonWallet,\n          queryId: this.state.queryId,\n          bridgeTonAddress: this.params.tonBridgeAddressV2\n        });\n        this.isBurningInProgress = false;\n      } catch (error) {\n        this.isBurningInProgress = false;\n\n        console.error(error);\n        this.resetState();\n      }\n    },\n    /**\n     * Burn jetton in TON network\n     * First step in transfer\n     */\n    async burnJetton(amountUnits: BN, jettonWalletAddress: Address): Promise<void> {\n      if (this.isBurningInProgress) {\n        return;\n      }\n\n      if (!this.providerDataForJettons) return;\n\n      this.isBurningInProgress = true;\n\n      try {\n        const destinationAddress = hexToBN(this.ethereumProvider.myAddress);\n        await burnJetton({\n          tonWallet: this.providerDataForJettons.tonWallet,\n          destinationAddress,\n          userTonAddress: this.providerDataForJettons.myAddreess,\n          jettonWalletAddress,\n          jettonAmountWithDecimals: amountUnits\n        });\n        this.isBurningInProgress = false;\n        this.saveState();\n      } catch (error) {\n        this.isBurningInProgress = false;\n\n        console.error(error);\n        this.resetState();\n      }\n    },\n    /**\n     * Prepare for Toncoin transfer\n     * Create wrappers for Ethereum and TON bridge smart contracts, get bridge configuration\n     */\n    async initProviderForToncoin(): Promise<ProviderDataForToncoin | null> {\n      if (!(await this.validateEthereumProvider())) {\n        return null;\n      }\n\n      const wtonContract = new this.ethereumProvider.web3!.eth.Contract(\n          WTON_BRIDGE as AbiItem[],\n          this.params.wTonAddress\n      );\n      const oraclesTotal = (\n          await wtonContract.methods.getFullOracleSet().call()\n      ).length;\n\n      if (!(oraclesTotal > 0)) {\n        return null;\n      }\n\n      const tonweb = new TonWeb(\n          new TonWeb.HttpProvider(this.params.tonCenterUrl, {\n            apiKey: this.params.tonCenterApiKey,\n          })\n      );\n\n      const bridgeData = (\n          await tonweb.provider.call(\n              this.params.tonBridgeAddress,\n              \"get_bridge_data\",\n              []\n          )\n      ).stack;\n\n      if (bridgeData.length !== 8) {\n        console.error(\"Invalid bridge data\", bridgeData);\n        return null;\n      }\n\n      // const stateFlags = getNumber(bridgeData[0]);\n      // const totalLocked = getNumber(bridgeData[1]);\n      // const collectorWc = getNumber(bridgeData[2]);\n      // const collectorAddr = bridgeData[3][1]; // string\n\n      const feeFlat = hexToBN(bridgeData[4][1]);\n      const feeNetwork = hexToBN(bridgeData[5][1]);\n      const feeFactor = hexToBN(bridgeData[6][1]);\n      const feeBase = hexToBN(bridgeData[7][1]);\n\n      const res: ProviderDataForToncoin = {\n        blockNumber: 0,\n        wtonContract,\n        tonweb,\n        oraclesTotal,\n        feeFlat: feeFlat.add(feeNetwork),\n        feeFactor,\n        feeBase,\n      };\n\n      return res;\n    },\n    /**\n     * Prepare for Token transfer\n     * Connect TON Extension\n     * Create wrappers for Ethereum and TON bridge smart contracts, get bridge configuration\n     */\n    async initProviderForJettons(): Promise<ProviderDataForJettons | null> {\n      if (!(await this.validateEthereumProvider())) {\n        return null;\n      }\n\n      const tonWallet = (window as any).ton;\n\n      if (!tonWallet) {\n        this.setAlert({\n          title: this.$t(\"errors.alertTitleError\"),\n          message: \"Please install MyTonWallet\",\n          link: \"https://chrome.google.com/webstore/detail/mytonwallet/fldfpgipfncgndfolcbkdeeknbbbnhcc\",\n          linkText: 'Install',\n          buttonLabel: this.$t(\"errors.alertButtonClose\"),\n        });\n        return null;\n      }\n\n      const wallets =\n          (await tonWallet.send(\n              \"ton_requestWallets\",\n              []\n          )) as any;\n\n      const walletAddress = wallets[0].address;\n      console.log('wallet', walletAddress)\n      const userTonAddress = new TonWeb.Address(walletAddress);\n      if (userTonAddress.wc !== 0) {\n        this.setAlert({\n          title: this.$t(\"errors.alertTitleError\"),\n          message: \"Only basechain wallets supported\",\n          buttonLabel: this.$t(\"errors.alertButtonClose\"),\n        });\n        return;\n      }\n\n      const bridgeContract = new this.ethereumProvider.web3!.eth.Contract(\n          BRIDGE.abi as AbiItem[],\n          this.params.tonBridgeV2EVMAddress\n      );\n\n      const oraclesTotal = (await bridgeContract.methods.getFullOracleSet().call())\n          .length;\n\n      if (!(oraclesTotal > 0)) {\n        return null;\n      }\n\n      const tonweb = new TonWeb(\n          new TonWeb.HttpProvider(this.params.tonCenterUrl, {\n            apiKey: this.params.tonCenterApiKey,\n          })\n      );\n\n      const userTonBalance: string = await tonweb.provider.getBalance(walletAddress);\n      console.log('userTonBalance', userTonBalance.toString())\n      if (new BN(userTonBalance).lt(toNano(\"1\"))) {\n        this.setAlert({\n          title: this.$t(\"errors.alertTitleError\"),\n          message: \"You need at least 1 TON on wallet balance\",\n          buttonLabel: this.$t(\"errors.alertButtonClose\"),\n        });\n        return;\n      }\n\n      const res: ProviderDataForJettons = {\n        blockNumber: 0,\n        bridgeContract,\n        tonweb,\n        oraclesTotal,\n        myAddress: walletAddress,\n        tonWallet,\n      };\n\n      return res;\n    },\n    /**\n     * Start transfer\n     * Check that user has enough balance\n     * Toncoin TON->EVM - ask user to send Toncoins to bridge in TON network\n     * Toncoin EVM->TON - burn wrapped ERC-20 Toncoins in EVM network\n     * Tokens EVM->TON - lock ERC-20 token in EVM network\n     * Token TON->EVM - burn jetton in TON Network\n     */\n    async onTransferClick(): Promise<void> {\n      if (this.isInitInProgress) return;\n\n      if (!this.isInputsValid) return;\n\n      this.isInitInProgress = true;\n\n      // Prepare\n\n      if (!(await this.initProvider(this.isToncoinTransfer))) {\n        this.isInitInProgress = false;\n        return;\n      }\n\n      const isTokenEvmToTonRecover = this.isRecover && !this.isToncoinTransfer && !this.isFromTon && this.evmHash;\n      const isTokenTonToEvmRecover = this.isRecover && !this.isToncoinTransfer && this.isFromTon && this.lt && this.hash;\n\n      // Recover EVM->TON jetton transfer\n\n      if (isTokenEvmToTonRecover) {\n        this.isInitInProgress = false;\n        await this.recoverEvmToTonTransfer();\n        return;\n      }\n\n      // Start transfer\n\n      if (this.isToncoinTransfer) {\n\n        // Check balances\n\n        if (!this.isFromTon) { // EVM->TON Toncoin Transfer, check that user have `amount` of ERC-20 wrapped toncoins before Burn\n          try {\n            const userErcBalance = new BN(\n                await this.providerDataForToncoin.wtonContract.methods\n                    .balanceOf(this.ethereumProvider.myAddress)\n                    .call()\n            );\n            if (toNano(this.amount).gt(userErcBalance)) {\n              this.$emit(\"error\", {\n                input: \"amount\",\n                message: this.$t(\"errors.toncoinBalance\", {\n                  coin: \"TONCOIN\",\n                  balance: fromNano(userErcBalance).toString(),\n                }),\n              });\n\n              this.isInitInProgress = false;\n              return;\n            }\n          } catch (e) {\n            console.error(e);\n            this.isInitInProgress = false;\n            return;\n          }\n        }\n        this.isInitInProgress = false;\n\n        // Go\n\n        this.state.createTime = Date.now();\n        this.state.step = 1;\n\n        if (this.isFromTon) {\n          this.saveState(); // ask user to send Toncoins to bridge in TON network\n        } else {\n          await this.burnWrappedToncoin(); // invoke Ethereum wallet to burn ERC-20 wrapped toncoins\n        }\n\n      } else { // Token transfer\n\n        // Check balances\n\n        let amountUnits: BN;\n        let jettonWalletAddress: Address;\n\n        if (!this.isFromTon) { // EVM->TON Token transfer, check that user have `amount` of ERC-20 tokens before Lock\n          try {\n            const erc20Contract = new ERC20Contract(this.ethereumProvider);\n            const decimals = await erc20Contract.decimals({\n              address: this.tokenAddress,\n            });\n            amountUnits = new BN(\n                parseUnits(this.amount, decimals).toString()\n            );\n            const balance = new BN(\n                (\n                    await erc20Contract.balanceOf({\n                      address: this.tokenAddress,\n                      account: this.ethereumProvider.myAddress,\n                    })\n                ).toString()\n            );\n            if (!balance.gte(amountUnits)) {\n              this.$emit(\"error\", {\n                input: \"amount\",\n                message: this.$t(\"errors.toncoinBalance\", {\n                  coin: this.tokenSymbol,\n                  balance: formatUnits(balance.toString(), decimals),\n                }),\n              });\n\n              this.isInitInProgress = false;\n              return;\n            }\n          } catch (e) {\n            console.error(e);\n            this.isInitInProgress = false;\n            return;\n          }\n        } else { // TON->EVM Token transfer, make checks\n\n          // check jetton\n\n          let jettonEvmAddress: string;\n          let decimals: number;\n\n          try {\n            const wrappedTokenData = await getWrappedTokenData(\n                    this.providerDataForJettons.tonweb,\n                    this.tokenAddress\n                );\n            const chainId = wrappedTokenData.chainId;\n            if (chainId !== this.ethereumProvider.chainId) {\n              throw new Error(\"Jetton from different chain\")\n            }\n            decimals = wrappedTokenData.decimals;\n            jettonEvmAddress = wrappedTokenData.tokenAddress;\n            const wrappedTokenDataCell = TokenBridge.createWrappedTokenData(chainId, jettonEvmAddress, decimals);\n            const referenceMinterAddress = await getJettonMinterAddress(\n                this.providerDataForJettons.tonweb,\n                this.params.tonBridgeAddressV2,\n                wrappedTokenDataCell\n            );\n            if (referenceMinterAddress.toString(false) !== new TonWeb.Address(this.tokenAddress).toString(false)) {\n              throw new Error(\"Jetton does not belong to this bridge\");\n            }\n          } catch (e) {\n            console.error(e);\n            this.isInitInProgress = false;\n            return;\n          }\n\n          // check that user have `amount` of Jettons before Burn\n          try {\n\n            jettonWalletAddress = await getJettonWalletAddress({\n              tonweb: this.providerDataForJettons.tonweb,\n              userTonAddress: new TonWeb.Address(this.providerDataForJettons.myAddress),\n              tokenAddress: this.tokenAddress,\n            });\n\n            this.state.jettonEvmAddress = jettonEvmAddress;\n            console.log(\"myAddress\", this.providerDataForJettons.myAddress.toString())\n            console.log(\"decimals\", decimals.toString())\n            console.log(\"jettonEvmAddress\", jettonEvmAddress.toString())\n            console.log(\"jettonWalletAddress\", jettonWalletAddress.toString(true, true, true))\n\n            const balance = await getJettonWalletBalance(\n                this.providerDataForJettons.tonweb,\n                jettonWalletAddress!.toString(true, true, true)\n            );\n            console.log(\"balance\", balance.toString())\n\n            amountUnits = new BN(parseUnits(this.amount, decimals).toString());\n\n            if (!isTokenTonToEvmRecover && !balance.gte(amountUnits)) {\n              this.$emit(\"error\", {\n                input: \"amount\",\n                message: this.$t(\"errors.toncoinBalance\", {\n                  coin: this.tokenSymbol,\n                  balance: formatUnits(balance.toString(), decimals),\n                }),\n              });\n\n              this.isInitInProgress = false;\n              return;\n            }\n          } catch (e) {\n            console.error(e);\n            this.isInitInProgress = false;\n            return;\n          }\n        }\n\n        this.isInitInProgress = false;\n\n        // Go\n\n        this.state.createTime = Date.now();\n        this.state.step = 1;\n\n        if (this.isFromTon) { // TON->EVM token transfer - Burn jettons\n          if (!isTokenTonToEvmRecover) {\n            await this.burnJetton(amountUnits, jettonWalletAddress); // invoke TON wallet to burn jettons\n          }\n\n        } else { // EVM->TON token transfer - Lock ERC-20 Tokens\n          await this.lockToken(amountUnits); // invoke Ethereum wallet to lock ERC-20 tokens\n        }\n      }\n    },\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=66225fb6&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=66225fb6&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/tolya/dev/ton/bridge/token-bridge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-66225fb6\"]])\n\nexport default __exports__","import { vModelDynamic as _vModelDynamic, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-78dd5646\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"disabled\", \"readonly\", \"type\", \"id\", \"inputmode\"]\nconst _hoisted_2 = { class: \"CustomInput-labelWrapper\" }\nconst _hoisted_3 = [\"for\"]\nconst _hoisted_4 = {\n  key: 0,\n  class: \"CustomInput-arrow\"\n}\nconst _hoisted_5 = {\n  key: 1,\n  class: \"CustomInput-dropdown\"\n}\nconst _hoisted_6 = [\"onClick\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"CustomInput\", { hasData: _ctx.hasData, disabled: _ctx.disabled, error: !!_ctx.error && _ctx.hasData, isDropdownOpened: _ctx.isDropdownOpened }])\n  }, [\n    _withDirectives(_createElementVNode(\"input\", {\n      disabled: _ctx.disabled,\n      readonly: _ctx.hasDropdown,\n      type: _ctx.type,\n      id: 'CustomInput-' + _ctx.$uuid.v1(),\n      inputmode: _ctx.type === 'number' ? 'decimal' : 'text',\n      onInput: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('changed'))),\n      onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.isDropdownOpened = true)),\n      onFocus: _cache[2] || (_cache[2] = ($event: any) => (_ctx.isDropdownOpened = true)),\n      onBlur: _cache[3] || (_cache[3] = ($event: any) => (_ctx.$emit('blur'))),\n      onFocusout: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.onInputFocusOut && _ctx.onInputFocusOut(...args))),\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.model) = $event))\n    }, null, 40, _hoisted_1), [\n      [_vModelDynamic, _ctx.model]\n    ]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"label\", {\n        for: 'CustomInput-' + _ctx.$uuid.v1()\n      }, _toDisplayString((_ctx.hasData && _ctx.error) || _ctx.label), 9, _hoisted_3)\n    ]),\n    (_ctx.hasDropdown)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4))\n      : _createCommentVNode(\"\", true),\n    (_ctx.hasDropdown)\n      ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_5, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.dropdown, (item, index) => {\n            return (_openBlock(), _createElementBlock(\"li\", { key: index }, [\n              _createElementVNode(\"button\", {\n                onClick: ($event: any) => (_ctx.onOptionClick(item.value))\n              }, _toDisplayString(item.label), 9, _hoisted_6)\n            ]))\n          }), 128))\n        ]))\n      : _createCommentVNode(\"\", true)\n  ], 2))\n}","\nimport { defineComponent, PropType } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    error: {\n      type: String,\n      default: \"\",\n    },\n    label: {\n      type: String,\n      required: true,\n    },\n    type: {\n      type: String,\n      required: true,\n    },\n    modelValue: {\n      type: String,\n      required: true,\n    },\n    dropdown: {\n      type: Array as PropType<{ label: string; value: string }[]>,\n      default: () => [],\n    },\n  },\n\n  data() {\n    return {\n      isDropdownOpened: false,\n    };\n  },\n\n  computed: {\n    hasData(): boolean {\n      return !!this.modelValue;\n    },\n    model: {\n      get(): string {\n        type Item = {\n          label: string;\n          value: string;\n        };\n        if (this.hasDropdown) {\n          const item: Item | undefined = (this.dropdown as Array<Item>).find(\n            (item: Item) => item.value === this.modelValue\n          );\n          return item?.label || \"\";\n        } else {\n          return this.modelValue;\n        }\n      },\n      set(value: string) {\n        this.$emit(\"update:modelValue\", value);\n      },\n    },\n    hasDropdown(): boolean {\n      return !!this.dropdown?.length;\n    },\n  },\n  methods: {\n    onOptionClick(value: string) {\n      this.model = value;\n      this.isDropdownOpened = false;\n    },\n    onInputFocusOut(e: FocusEvent) {\n      if (!this.hasDropdown) {\n        return;\n      }\n      let elem = e.relatedTarget as any;\n      for (; elem && elem !== document; elem = elem.parentNode) {\n        if (elem === this.$el) return;\n      }\n\n      this.isDropdownOpened = false;\n    },\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=78dd5646&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=78dd5646&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/tolya/dev/ton/bridge/token-bridge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78dd5646\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-00bc09b2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"Footer\" }\nconst _hoisted_2 = {\n  href: \"https://t.me/ton_help_bot\",\n  target: \"_blank\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"footer\", _hoisted_1, [\n    _createTextVNode(\" v3.0.11, \"),\n    _createElementVNode(\"a\", _hoisted_2, _toDisplayString(_ctx.$t(\"support\")), 1),\n    _createTextVNode(\". \")\n  ]))\n}","\nimport {defineComponent} from \"vue\";\n\nexport default defineComponent({});\n","import { render } from \"./index.vue?vue&type=template&id=00bc09b2&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=00bc09b2&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/tolya/dev/ton/bridge/token-bridge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-00bc09b2\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveDynamicComponent as _resolveDynamicComponent, normalizeClass as _normalizeClass, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-61e5dea2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"Header-testnet\"\n}\nconst _hoisted_2 = { class: \"Header-wrapper\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"Header-logoIcon\" }, null, -1))\nconst _hoisted_4 = { class: \"Header-logoLabel\" }\nconst _hoisted_5 = { class: \"Header-menu\" }\nconst _hoisted_6 = [\"href\"]\nconst _hoisted_7 = {\n  key: 0,\n  class: \"Header-menuWrapper\"\n}\nconst _hoisted_8 = [\"data-icon\"]\nconst _hoisted_9 = { class: \"Header-menuList\" }\nconst _hoisted_10 = { \"data-id\": \"address\" }\nconst _hoisted_11 = { \"data-id\": \"disconnect\" }\nconst _hoisted_12 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"header\", {\n    class: _normalizeClass([\"Header\", { isScrolled: _ctx.isScrolled }])\n  }, [\n    (_ctx.isTestnet)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _toDisplayString(_ctx.$t(`testnetMessage`)), 1))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.isHistoryShown ? 'NuxtLink' : 'div'), {\n        to: _ctx.parentUrl,\n        class: _normalizeClass([\"Header-logo\", { isHistoryShown: _ctx.isHistoryShown }])\n      }, {\n        default: _withCtx(() => [\n          _hoisted_3,\n          _createElementVNode(\"span\", _hoisted_4, _toDisplayString(_ctx.$t(`logoLabel`)), 1)\n        ]),\n        _: 1\n      }, 8, [\"to\", \"class\"])),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"a\", {\n          href: _ctx.instructionLink,\n          target: \"_blank\",\n          class: \"Header-instruction\"\n        }, _toDisplayString(_ctx.$t(`instruction`)), 9, _hoisted_6),\n        (_ctx.showMenu)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n              _createElementVNode(\"div\", {\n                class: \"Header-menuAddress\",\n                \"data-icon\": _ctx.ethereumProvider?.name\n              }, [\n                _createElementVNode(\"span\", null, _toDisplayString(_ctx.address), 1)\n              ], 8, _hoisted_8),\n              _createElementVNode(\"ul\", _hoisted_9, [\n                _createElementVNode(\"li\", _hoisted_10, [\n                  _createElementVNode(\"span\", null, _toDisplayString(_ctx.address), 1)\n                ]),\n                _createElementVNode(\"li\", _hoisted_11, [\n                  _createElementVNode(\"button\", {\n                    onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onDisconnectClick && _ctx.onDisconnectClick(...args))),\n                    disabled: _ctx.disableDisconnect\n                  }, _toDisplayString(_ctx.$t(`disconnectWallet`)), 9, _hoisted_12)\n                ])\n              ])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ], 2))\n}","\nimport { defineComponent, PropType } from \"vue\";\n\nimport { PARAMS } from \"@/utils/constants\";\nimport { Provider } from \"@/utils/providers/provider\";\n\ntype ComponentData = {\n  isScrolled: boolean;\n};\n\nexport default defineComponent({\n  name: \"Header\",\n  props: {\n    isTestnet: {\n      type: Boolean,\n      default: false,\n    },\n    showMenu: {\n      type: Boolean,\n      required: true,\n    },\n    ethereumProvider: {\n      type: Object as PropType<Provider | null>,\n      required: true,\n    },\n    disableDisconnect: {\n      type: Boolean,\n      default: false,\n    },\n    isHistoryShown: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data(): ComponentData {\n    return {\n      isScrolled: window.pageYOffset > 0,\n    };\n  },\n\n  computed: {\n    instructionLink(): string {\n      return this.$t(`instruction`) === 'Инструкция' ? 'https://tonblockchain.ru/chto-takoie-mosty-v-blokchieinie-i-kak-oni-rabotaiut/' : 'https://blog.ton.org/ton-erc-20-bridge-tutorial'\n    },\n    address(): string {\n      if (!this.ethereumProvider) {\n        return \"\";\n      }\n      return (\n        this.ethereumProvider.myAddress.slice(0, 6) +\n        \"…\" +\n        this.ethereumProvider.myAddress.slice(-4)\n      );\n    },\n    parentUrl(): string {\n      const { historyAddress, historyNetwork, ...query } = this.$route.query;\n      return this.generateUrlWithQuery(query);\n    },\n    historyUrl(): string {\n      if (!this.ethereumProvider || !this.ethereumProvider.myAddress) {\n        return \"\";\n      }\n\n      let network = \"\";\n      Object.keys(PARAMS.networks).forEach((netKey: string) => {\n        const net = PARAMS.networks[netKey as keyof typeof PARAMS.networks];\n        Object.keys(net).forEach((subnetKey: string) => {\n          const subnet = net[subnetKey as keyof typeof net];\n          if (subnet.chainId === this.ethereumProvider?.chainId) {\n            network = netKey;\n          }\n        });\n      });\n\n      const query = {\n        ...this.$route.query,\n        historyAddress: this.ethereumProvider.myAddress,\n        historyNetwork: network,\n      };\n      return this.generateUrlWithQuery(query);\n    },\n  },\n\n  created() {\n    window.addEventListener(\"scroll\", this.onScroll);\n  },\n\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n  },\n\n  methods: {\n    generateUrlWithQuery(query: any): string {\n      const urlVars: string[] = Object.keys(query).map((key: string) => {\n        return key + \"=\" + encodeURIComponent(query[key]);\n      });\n      return this.$router\n        .resolve(\"/\" + (urlVars ? \"?\" + urlVars.join(\"&\") : \"\"))\n        .href.replace(\"bridge\", \"\"); // TODO in nuxt this.localePath\n    },\n    onScroll() {\n      this.isScrolled = window.pageYOffset > 0;\n    },\n    close() {\n      this.$emit(\"close\");\n    },\n    onDisconnectClick() {\n      this.ethereumProvider?.disconnect();\n    },\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=61e5dea2&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=61e5dea2&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/tolya/dev/ton/bridge/token-bridge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-61e5dea2\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-137f0b1b\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"WalletsPopup-panel\" }\nconst _hoisted_2 = [\"onClick\"]\nconst _hoisted_3 = [\"data-icon\", \"disabled\"]\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"em\", null, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createBlock(_Transition, {\n    name: \"WalletsPopupTransition\",\n    appear: \"\"\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"aside\", {\n        class: _normalizeClass([\"WalletsPopup\", { isLoading: _ctx.isLoading }])\n      }, [\n        _createElementVNode(\"div\", {\n          class: \"WalletsPopup-overlay\",\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.close && _ctx.close(...args)))\n        }),\n        _createElementVNode(\"div\", _hoisted_1, [\n          _createElementVNode(\"ul\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.providersList, (item) => {\n              return (_openBlock(), _createElementBlock(\"li\", {\n                key: item,\n                onClick: ($event: any) => (_ctx.onProviderClick(item))\n              }, [\n                _createElementVNode(\"button\", {\n                  \"data-icon\": item,\n                  disabled: _ctx.isLoading,\n                  class: _normalizeClass({ showLoader: _ctx.isLoading && _ctx.loadingProviderName === item })\n                }, [\n                  _createTextVNode(_toDisplayString(_ctx.$t(`providers.${item}`)), 1),\n                  _hoisted_4\n                ], 10, _hoisted_3)\n              ], 8, _hoisted_2))\n            }), 128))\n          ]),\n          (!_ctx.uncancellable)\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 0,\n                class: \"WalletsPopup-panelClose\",\n                onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.close && _ctx.close(...args)))\n              }))\n            : _createCommentVNode(\"\", true)\n        ])\n      ], 2)\n    ]),\n    _: 1\n  }))\n}","\nimport { defineComponent } from \"vue\";\n\nimport { Provider } from \"@/utils/providers/provider\";\n\nconst PROVIDERS = {\n  metamask: \"Metamask\",\n  // walletConnect: \"WalletConnect\",\n  // walletLink: \"WalletLink\",\n};\n\ntype ComponentData = {\n  isLoading: boolean;\n  loadingProviderName: string;\n};\n\nexport default defineComponent({\n  props: {\n    params: {\n      type: Object,\n      required: true,\n    },\n    uncancellable: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data(): ComponentData {\n    return {\n      isLoading: false,\n      loadingProviderName: \"\",\n    };\n  },\n\n  computed: {\n    providersList(): string[] {\n      return Object.keys(PROVIDERS);\n    },\n  },\n\n  created() {\n    document.addEventListener(\"keydown\", this.onKeyDown);\n  },\n\n  beforeDestroy() {\n    document.removeEventListener(\"keydown\", this.onKeyDown);\n  },\n\n  methods: {\n    onKeyDown(e: KeyboardEvent) {\n      if (e.keyCode === 27) {\n        this.close();\n      }\n    },\n    close() {\n      if (this.uncancellable) return;\n      if (this.isLoading) return;\n      this.$emit(\"cancel\");\n    },\n    async onProviderClick(providerName: string): Promise<void> {\n      if (this.isLoading) return;\n\n      this.isLoading = true;\n      this.loadingProviderName = providerName;\n\n      const providerComponentName: string =\n        PROVIDERS[providerName as keyof typeof PROVIDERS];\n      const ProviderComponent = await import(\n        `@/utils/providers/${providerName}/index`\n      );\n\n      try {\n        const provider = new ProviderComponent[\n          providerComponentName\n        ]() as Provider;\n\n        const result = await provider.connect({\n          rpcEndpoint: this.params.rpcEndpoint,\n          chainId: this.params.chainId,\n        });\n\n        this.isLoading = false;\n\n        if (!result) {\n          return;\n        }\n\n        this.$emit(\"wallet-connected\", provider);\n      } catch (e: any) {\n        const message = this.$te(e.message) ? this.$t(e.message) : e.message;\n        console.error(message);\n        alert(message);\n        this.isLoading = false;\n      }\n    },\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=137f0b1b&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=137f0b1b&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/tolya/dev/ton/bridge/token-bridge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-137f0b1b\"]])\n\nexport default __exports__","\nimport BN from \"bn.js\";\nimport lodashDebounce from \"lodash.debounce\";\nimport TonWeb from \"tonweb\";\nimport {defineComponent, markRaw} from \"vue\";\nimport Web3 from \"web3\";\n\nimport BridgeProcessor from \"@/components/BridgeProcessor/index.vue\";\nimport CustomInput from \"@/components/CustomInput/index.vue\";\nimport Footer from \"@/components/Footer/index.vue\";\nimport Header from \"@/components/Header/index.vue\";\nimport WalletsPopup from \"@/components/WalletsPopup/index.vue\";\nimport {getTokenAddressByToken, MINIMUM_TONCOIN_AMOUNT, PARAMS} from \"@/utils/constants\";\nimport {supportsLocalStorage} from \"@/utils/helpers\";\nimport {Provider} from \"@/utils/providers/provider\";\n\nimport {ComponentData} from \"./types\";\nimport {decToBN} from \"@/ton-bridge-lib/Paranoid\";\n\nconst PAIRS = [\"eth\", \"bsc\"];\nconst fromNano = TonWeb.utils.fromNano;\nconst toNano = TonWeb.utils.toNano;\n\nexport default defineComponent({\n  name: \"Bridge\",\n\n  components: {\n    BridgeProcessor,\n    WalletsPopup,\n    CustomInput,\n    Header,\n    Footer,\n  },\n\n  head(): object {\n    return {\n      title: this.$t(`networks.${this.pair}.pageTitle`),\n    };\n  },\n\n  data(): ComponentData {\n    return {\n      // eslint-disable-next-line @typescript-eslint/no-empty-function\n      getPairGasFee__debounced: () => {\n      },\n      gasPrice: 0,\n\n      isTestnet: false, // immutable parameter from url\n      isRecover: false, // immutable parameter from url\n      lt: 0, // immutable parameter from url - ton transaction LT (logic time) in TON->EVM transfer\n      hash: \"\", // immutable parameter from url - ton transaction hash in TON->EVM transfer\n      evmHash: \"\", // immutable parameter from url - EVM transaction hash in EVM->TON transfer\n\n      isFromTon: true, // transfer direction - to-ton-network or from-ton-network\n      pair: \"eth\", // \"eth\" or \"bsc\"\n      token: \"ton\", // \"ton\" | \"usdt\" | \"usdc\" | \"dai\" | \"wbtc\" | \"otherTokens\"\n      amountInput: \"\", // float as string, \"\" if no value\n      toAddress: \"\", // Ethereum or TON to address\n      tokenAddress: \"\", // Ethereum or TON token address\n\n      tokenSymbol: \"TON\",\n\n      walletsPopupState: \"closed\",\n      ethereumProvider: null, // Ethereum provider\n      isEthereumWalletConnected: false, // ethereumProvider !== null\n      bridgeProcessorIsLoading: false, // from connect wallet to BridgeProcessor creation\n      isTransferInProgress: false,\n\n      errors: {\n        amount: \"\",\n        toAddress: \"\",\n        tokenAddress: \"\",\n      },\n    };\n  },\n\n  computed: {\n    isToncoinTransfer(): boolean {\n      return this.token === \"ton\";\n    },\n    isInputsValid(): boolean {\n      return !this.errors.amount && !this.errors.toAddress && (this.isToncoinTransfer || !this.errors.tokenAddress);\n    },\n    getTokenAddress(): string {\n      if (this.token === '') {\n        return this.tokenAddress;\n      } else {\n        return getTokenAddressByToken(this.token, this.isFromTon, this.isTestnet, this.pair);\n      }\n    },\n    netTypeName(): string {\n      return this.isTestnet ? \"test\" : \"main\";\n    },\n    params(): ParamsNetwork {\n      const pairParams = PARAMS.networks[this.pair];\n      return pairParams[this.netTypeName as keyof typeof pairParams];\n    },\n    pairNetworkCoinUrl(): string {\n      const url = this.params.explorerUrl;\n      const address = this.params.wTonAddress;\n      return url.replace(\"<ADDRESS>\", address);\n    },\n    willReceive(): string {\n      if (this.bridgeFeeAmount.isZero()) {\n        return \"\";\n      }\n\n      if (this.isToncoinTransfer) {\n        const coin = this.$t(\n            `networks.${this.isFromTon ? this.pair : \"ton\"}.${\n                this.netTypeName\n            }.coin`\n        );\n        return this.$t(\"willReceive\", {\n          coin,\n          fee: fromNano(toNano(this.amountInput).sub(this.bridgeFeeAmount)),\n        });\n      } else {\n        return \"\";\n      }\n    },\n    pairFee(): string {\n      const n = this.gasPrice ? this.gasPrice / this.params.defaultGwei : 1;\n      const toncoinFee = this.isFromTon\n          ? this.params.toncoinTransferFrom_gasPrice * n\n          : this.params.toncoinTransferTo_gasPrice * n;\n\n      const tokenFee = this.isFromTon\n          ? this.params.tokenTransferFrom_gasPrice * n\n          : this.params.tokenTransferTo_gasPrice * n;\n\n      const fee = this.isToncoinTransfer ? toncoinFee : tokenFee;\n\n      return this.$t(`networks.${this.pair}.gasFee`, {\n        fee: fee.toFixed(4),\n      });\n    },\n    bridgeFeeAmount(): BN { // in nanoton\n\n      if (this.isToncoinTransfer) {\n        let amount = undefined;\n        try {\n          amount = toNano(this.amountInput);\n        } catch (e) {\n        }\n        if (amount === undefined) {\n          return new BN(0);\n        }\n        if (amount.lt(MINIMUM_TONCOIN_AMOUNT)) {\n          return new BN(0);\n        } else {\n          const feeFlat = toNano('5');\n          const feeFactor = decToBN('25');\n          const feeBase = decToBN('10000');\n          const rest = amount.sub(feeFlat);\n          const percentFee = rest\n              .mul(feeFactor)\n              .div(feeBase);\n          return feeFlat.add(percentFee);\n        }\n      } else { // token transfer - fixed 1 TON fee\n        return toNano(\"1\");\n      }\n    },\n    bridgeFee(): string {\n      if (this.token === 'ton') {\n        if (this.bridgeFeeAmount.isZero()) {\n          return this.$t(\"bridgeFeeBelow10\");\n        } else {\n          return this.$t(\"bridgeFeeAbove10\", {\n            fee: fromNano(this.bridgeFeeAmount),\n          });\n        }\n      } else {\n        return this.isFromTon ? this.$t(\"tokenBridgeFeeToEvm\") : this.$t(\"tokenBridgeFee\");\n      }\n    },\n    fromPairs(): string[] {\n      return [\"ton\", ...PAIRS];\n    },\n    toPairs(): string[] {\n      return [this.pair, ...PAIRS.filter((i) => i !== this.pair), \"ton\"];\n    },\n    isPairsBlocked(): boolean {\n      return this.isTransferInProgress;\n    },\n    isInputsBlocked(): boolean {\n      return this.isTransferInProgress;\n    },\n  },\n\n  watch: {\n    isFromTon(newVal: boolean, oldVal: boolean) {\n      this.getPairGasFee__debounced();\n\n      if (newVal !== oldVal) {\n        this.checkInputs();\n      }\n    },\n    async pair(newVal: string, oldVal: string): Promise<void> {\n      if (newVal === 'bsc') {\n        this.token = 'ton';\n      }\n\n      this.getPairGasFee__debounced();\n\n      if (newVal !== oldVal) {\n        this.checkInputs();\n      }\n\n      // if (newVal !== oldVal && this.isEthereumWalletConnected && this.ethereumProvider) {\n      //   const isChanged = await this.ethereumProvider.switchChain(this.params.chainId);\n      //   if (!isChanged) {\n      //     this.pair = oldVal;\n      //   }\n      // }\n    },\n  },\n\n  created() {\n    this.getPairGasFee__debounced = lodashDebounce(this.getPairGasFee, 100);\n\n    // Get params from url in case of recovery\n\n    if (this.$route.query.testnet) {\n      this.isTestnet =\n          this.$route.query.testnet.toString().toLowerCase() === \"true\";\n    }\n    if (this.$route.query.recover || this.$route.query.recovery) {\n      const isRecover =\n          (this.$route.query.recover?.toString() || \"\").toLowerCase() === \"true\";\n      const isRecovery =\n          (this.$route.query.recovery?.toString() || \"\").toLowerCase() === \"true\";\n      this.isRecover = isRecover || isRecovery;\n    }\n    if (this.$route.query.lt) {\n      const lt = parseInt(this.$route.query.lt.toString(), 10);\n      this.lt = !lt || isNaN(lt) ? 0 : lt;\n    }\n    if (this.$route.query.hash) {\n      this.hash = this.$route.query.hash.toString();\n    }\n    if (this.$route.query.evmHash) {\n      this.evmHash = this.$route.query.evmHash.toString();\n    }\n    if (this.$route.query.amount) {\n      try {\n        this.amountInput = this.$route.query.amount.toString();\n      } catch (e) {\n        this.amountInput = \"\"; // for empty string inside input\n      }\n    }\n    if (this.$route.query.toAddress) {\n      this.toAddress = this.$route.query.toAddress.toString();\n    }\n    if (this.$route.query.fromNetwork && this.$route.query.toNetwork) {\n      const fromNetwork = this.$route.query.fromNetwork\n          .toString()\n          .toLowerCase();\n      const toNetwork = this.$route.query.toNetwork.toString().toLowerCase();\n\n      if (fromNetwork === \"ton\" && PAIRS.includes(toNetwork)) {\n        this.isFromTon = true;\n        this.pair = toNetwork;\n      }\n\n      if (toNetwork === \"ton\" && PAIRS.includes(fromNetwork)) {\n        this.isFromTon = false;\n        this.pair = fromNetwork;\n      }\n    }\n    if (this.$route.query.token) {\n      const t = this.$route.query.token.toString().toLowerCase();\n      if (t === 'ton' || t === \"usdt\" || t === \"usdc\" || t === \"dai\" || t === \"wbtc\") {\n        this.token = t;\n        this.tokenAddress = getTokenAddressByToken(this.token, this.isFromTon, this.isTestnet, this.pair);\n      } else {\n        this.token = 'otherTokens';\n        this.tokenAddress = t;\n      }\n    }\n  },\n\n  mounted() {\n    this.getPairGasFee__debounced();\n    this.loadStateBridge();\n    this.checkInputs();\n\n    this.$watch(\n        () => this.tokenAddress + \"_\" + this.token + \"_\" + this.isFromTon,\n        () => {\n          if (this.token === 'otherTokens') {\n            this.tokenSymbol = \"\";\n          } else {\n            this.tokenSymbol = this.token.toUpperCase();\n          }\n        }\n    );\n  },\n\n  methods: {\n    checkInputs() {\n      this.errors.tokenAddress = \"\";\n      this.errors.amount = \"\";\n      this.errors.toAddress = \"\";\n\n      // check tokenAddress input\n\n      const tokenAddress = this.getTokenAddress;\n      if (this.isFromTon) {\n        if (!TonWeb.utils.Address.isValid(tokenAddress)) {\n          this.errors.tokenAddress = this.$t(\n              `networks.ton.errors.invalidAddress`\n          );\n        }\n      } else {\n        if (!Web3.utils.isAddress(tokenAddress)) {\n          this.errors.tokenAddress = this.$t(\n              `networks.${this.pair}.errors.invalidAddress`\n          );\n        }\n\n        if (tokenAddress.toLowerCase() === this.params.wTonAddress.toLowerCase()) {\n          this.errors.tokenAddress = this.$t(\n              `networks.${this.pair}.errors.invalidAddress`\n          );\n        }\n      }\n\n      // check amount input\n\n      if (this.token === \"ton\") {\n        let amount = undefined;\n        try {\n          amount = toNano(this.amountInput);\n        } catch (e) {\n          this.errors.amount = this.$t(\"errors.notValidAmount\");\n        }\n\n        if (amount !== undefined && amount.lt(MINIMUM_TONCOIN_AMOUNT)) {\n          this.errors.amount = this.$t(\"errors.amountBelow10\");\n        }\n      } else {\n        let amount = undefined;\n        try {\n          if (this.amountInput.trim().startsWith('0x')) throw new Error();\n          amount = Number(this.amountInput);\n          if (isNaN(amount)) throw new Error();\n        } catch (e) {\n          this.errors.amount = this.$t(\"errors.notValidAmount\");\n        }\n\n        if (amount !== undefined && amount <= 0) {\n          this.errors.amount = this.$t(\"errors.notValidAmount\");\n        }\n      }\n\n      // check toAddress input\n\n      if (this.isFromTon) {\n        if (!Web3.utils.isAddress(this.toAddress)) {\n          this.errors.toAddress = this.$t(\n              `networks.${this.pair}.errors.invalidAddress`\n          );\n        }\n      } else {\n        if (!TonWeb.utils.Address.isValid(this.toAddress)) {\n          this.errors.toAddress = this.$t(`networks.ton.errors.invalidAddress`);\n        }\n      }\n\n      if (\n          this.toAddress.toLowerCase() === this.params.wTonAddress.toLowerCase() ||\n          this.toAddress.toLowerCase() === this.params.tonBridgeAddress.toLowerCase() ||\n          this.toAddress.toLowerCase() === this.params.tonBridgeV2EVMAddress.toLowerCase() ||\n          this.toAddress.toLowerCase() === this.params.tonBridgeAddressV2.toLowerCase() ||\n          (this.tokenAddress && this.toAddress.toLowerCase() === this.tokenAddress.toLowerCase())\n      ) {\n        this.errors.toAddress = this.$t(\"errors.needPersonalAddress\");\n      }\n    },\n    onPairClick(switchDirection: boolean, toPair: string) {\n      if (this.isPairsBlocked) {\n        return;\n      }\n      if (switchDirection) {\n        this.isFromTon = !this.isFromTon;\n      }\n      this.pair = toPair;\n    },\n    toggleFromTon() {\n      if (this.isPairsBlocked) {\n        return;\n      }\n      this.isFromTon = !this.isFromTon;\n    },\n    resetState() {\n      this.isRecover = false;\n      this.lt = 0;\n      this.hash = \"\";\n      this.evmHash = \"\";\n      this.tokenAddress = \"\";\n      this.amountInput = \"\"; //to reset inside input directly\n      this.toAddress = \"\";\n    },\n    loadStateBridge() {\n      if (!supportsLocalStorage()) {\n        return;\n      }\n\n      const raw = localStorage.getItem(\"bridgeState\");\n\n      if (raw) {\n        let state: any;\n        try {\n          state = JSON.parse(raw);\n        } catch (e) {\n          return;\n        }\n\n        this.amountInput = state.amount;\n        this.toAddress = state.toAddress;\n        this.pair = state.pair;\n        this.isFromTon = state.isFromTon;\n        this.token = state.token;\n        this.tokenAddress = state.tokenAddress;\n\n        this.isTransferInProgress = true;\n      }\n    },\n    loadStateProcessor() {\n      if (!supportsLocalStorage()) {\n        return;\n      }\n\n      const raw = localStorage.getItem(\"bridgeState\");\n\n      if (raw) {\n        let state: any;\n        try {\n          state = JSON.parse(raw);\n        } catch (e) {\n          return;\n        }\n\n        console.log(\"loadState\");\n        // TODO vuex\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        this.$refs.bridgeProcessor.loadState(state);\n      }\n    },\n    saveState(processingState: any) {\n      if (!supportsLocalStorage()) {\n        return;\n      }\n\n      const state = {\n        amount: this.amountInput,\n        toAddress: this.toAddress,\n        pair: this.pair,\n        isFromTon: this.isFromTon,\n        token: this.token,\n        tokenAddress: this.tokenAddress,\n        processingState: processingState,\n      };\n\n      localStorage.setItem(\"bridgeState\", JSON.stringify(state));\n    },\n    deleteState() {\n      if (!supportsLocalStorage()) {\n        return;\n      }\n\n      localStorage.removeItem(\"bridgeState\");\n    },\n    onTransferInProgress(isActive: boolean) {\n      this.isTransferInProgress = isActive;\n      this.checkInputs();\n    },\n    async getPairGasFee(): Promise<void> {\n      let data;\n      let gasPrice = 0;\n\n      try {\n        const response = await fetch(this.params.getGasUrl, {\n          method: \"GET\",\n          cache: \"no-store\",\n        });\n\n        if (!response.ok) {\n          throw new Error(`An error has occured: ${response.status}`);\n        }\n\n        data = await response.json();\n      } catch (e) {\n        this.gasPrice = 0;\n        return;\n      }\n\n      if (this.pair === \"eth\") {\n        gasPrice = parseFloat(data.average) / 10;\n      }\n\n      if (this.pair === \"bsc\") {\n        gasPrice = parseFloat(data.result.SafeGasPrice);\n      }\n\n      this.gasPrice = gasPrice > 0 ? gasPrice : this.params.defaultGwei;\n    },\n    onWalletConnected(ethereumProvider: Provider) {\n      this.ethereumProvider = markRaw(ethereumProvider) as any;\n      // TODO vuex\n      this.bridgeProcessorIsLoading = !this.$refs.bridgeProcessor;\n      this.isEthereumWalletConnected = true;\n      this.walletsPopupState = \"closed\";\n      (this.$refs?.bridgeProcessor as any)?.onTokenChange(this.token);\n\n      this.ethereumProvider!.on(\"disconnect\", () => {\n        if (this.isTransferInProgress) {\n          this.walletsPopupState = \"opened-uncancellable\";\n        } else {\n          this.ethereumProvider = null;\n          this.isEthereumWalletConnected = false;\n          this.bridgeProcessorIsLoading = false;\n        }\n      });\n    },\n    onBridgeProcessorReady() {\n      this.loadStateProcessor();\n      this.bridgeProcessorIsLoading = false;\n    },\n    onBridgeTransferError(params: { input: string; message: string }) {\n      if (params.input === \"amount\") {\n        this.errors.amount = params.message;\n      }\n      if (params.input === \"toAddress\") {\n        this.errors.toAddress = params.message;\n      }\n    },\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=f59d7bb0&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=f59d7bb0&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/tolya/dev/ton/bridge/token-bridge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f59d7bb0\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\n\nimport BridgePageVue from \"@/views/BridgePage/index.vue\";\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Bridge\",\n    component: BridgePageVue,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\nexport default router;\n","import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: () => ({ alert: null }),\n  mutations: {\n    setAlert(state, payload) {\n      state.alert = payload;\n    },\n  },\n  getters: {\n    alert(state) {\n      return state.alert;\n    },\n  },\n  actions: {},\n});\n","import \"@/assets/styles/reboot.css\";\nimport \"@/assets/styles/global.less\";\n\nimport { createApp } from \"vue\";\nimport UUID from \"vue-uuid\";\n\nimport App from \"./App.vue\";\nimport i18n from \"./i18n\";\nimport router from \"./router\";\nimport store from \"./store\";\n\ncreateApp(App).use(UUID).use(i18n).use(store).use(router).mount(\"#app\");\n","import TonWeb from \"tonweb\";\n\nexport const MINIMUM_TONCOIN_AMOUNT = TonWeb.utils.toNano('10');\n\nexport const PARAMS: Params = {\n  appName: \"TON Bridge\",\n  appLogoUrl: \"https://ton.org/bridge/favicon.ico\",\n  tonTransferUrl:\n    \"ton://transfer/<BRIDGE_ADDRESS>?amount=<AMOUNT>&text=swapTo%23<TO_ADDRESS>\",\n  tonExplorerUrl: {\n    main: \"https://tonscan.org/address/<ADDRESS>\",\n    test: \"https://testnet.tonscan.org/address/<ADDRESS>\",\n  },\n  networks: {\n    eth: {\n      main: {\n        getGasUrl: \"https://ethereumgas.toncenter.com\",\n        explorerUrl: \"https://etherscan.io/token/<ADDRESS>\",\n        wTonAddress: \"0x582d872a1b094fc48f5de31d3b73f2d9be47def1\",\n        tonBridgeAddress: \"Ef_dJMSh8riPi3BTUTtcxsWjG8RLKnLctNjAM4rw8NN-xWdr\",\n        tonCollectorAddress: \"EQCuzvIOXLjH2tv35gY4tzhIvXCqZWDuK9kUhFGXKLImgxT5\",\n        tonMultisigAddress: \"kf87m7_QrVM4uXAPCDM4DuF9Rj5Rwa5nHubwiQG96JmyAo-S\",\n        tonBridgeAddressV2: \"Ef-1JetbPF9ubc1ga-57oHoOyDA1IShJt-BVlJnA9rrVTfrB\",\n        tonBridgeV2EVMAddress: \"0xb323692b6d4DB96af1f52E4499a2bd0Ded9af3C5\",\n        tonCollectorAddressV2: \"EQDF6fj6ydJJX_ArwxINjP-0H8zx982W4XgbkKzGvceUWvXl\",\n        tonMultisigAddressV2: \"Ef8hHxV0v2I9FHh3CMX91WXjKaJav6SQlemEQm8ZvPBJdLde\",\n        tonCenterUrl: \"https://toncenter.com/api/v2/jsonRPC\",\n        tonCenterApiKey:\n          \"d843619b379084d133f061606beecbf72ae2bf60e0622e808f2a3f631673599b\",\n        rpcEndpoint:\n          \"https://mainnet.infura.io/v3/d29ee9db9b7b4bbc8fa5d28047a3ff47\",\n        chainId: 1,\n        blocksConfirmations: 65,\n        defaultGwei: 25,\n        toncoinTransferTo_gasPrice: 0.004,\n        toncoinTransferFrom_gasPrice: 0.001,\n        tokenTransferTo_gasPrice: 0.00173,\n        tokenTransferFrom_gasPrice: 0.0036,\n      },\n      test: {\n        getGasUrl: \"https://ethereumgas.toncenter.com\",\n        explorerUrl: \"https://goerli.etherscan.io/token/<ADDRESS>\",\n        wTonAddress: \"0xDB15ffaf2c88F2d89Db9365a5160D5b8c9448Ea6\",\n        tonBridgeAddress: \"Ef-56ZiqKUbtp_Ax2Qg4Vwh7yXXJCO8cNJAb229J6XXe4-aC\",\n        tonCollectorAddress: \"EQCA1W_I267-luVo9CzV7iCcrA1OO5vVeXD0QHACvBn1jIVU\",\n        tonMultisigAddress: \"kf-OV1dpgFVEzEmyvAETT8gnhqZ1IqHn8RzT6dmEmvnze-9n\",\n        tonBridgeV2EVMAddress: \"0x4Efd8f04B6fb4CFAF0cfaAC11Fb489b97DBebB60\",\n        tonBridgeAddressV2: \"Ef-lJBALjXSSwSKiedKzriSHixwQUxJ1BxTE05Ur5AXwZVjp\",\n        tonCollectorAddressV2:\n          \"EQC1ZeKX1LNrlQ4bwi3je3KVM1AoZ3rkeyHM5hv9pYzmIh4v\",\n        tonMultisigAddressV2:\n          \"kf9NLH8CsGUkEKGYzCxaLd9Th6T5YkO-MXsCEU9Rw1fiRhf9\",\n        tonCenterUrl: \"https://testnet.toncenter.com/api/v2/jsonRPC\",\n        tonCenterApiKey:\n          \"d843619b379084d133f061606beecbf72ae2bf60e0622e808f2a3f631673599b\",\n        rpcEndpoint:\n          \"https://goerli.infura.io/v3/1f24ea6b55e9432d993a9c0ff68eeee5\",\n        chainId: 5,\n        blocksConfirmations: 12,\n        defaultGwei: 25,\n        toncoinTransferTo_gasPrice: 0.004,\n        toncoinTransferFrom_gasPrice: 0.001,\n        tokenTransferTo_gasPrice: 0.00173,\n        tokenTransferFrom_gasPrice: 0.0036,\n      },\n    },\n    bsc: {\n      main: {\n        getGasUrl:\n          \"https://gbsc.blockscan.com/gasapi.ashx?apikey=key&method=gasoracle\",\n        explorerUrl: \"https://bscscan.com/token/<ADDRESS>\",\n        wTonAddress: \"0x76A797A59Ba2C17726896976B7B3747BfD1d220f\",\n        tonBridgeAddress: \"Ef9NXAIQs12t2qIZ-sRZ26D977H65Ol6DQeXc5_gUNaUys5r\",\n        tonCollectorAddress: \"EQAHI1vGuw7d4WG-CtfDrWqEPNtmUuKjKFEFeJmZaqqfWTvW\",\n        tonMultisigAddress: \"kf8OvX_5ynDgbp4iqJIvWudSEanWo0qAlOjhWHtga9u2Yo7j\",\n        tonBridgeV2EVMAddress: \"\",\n        tonBridgeAddressV2: \"\",\n        tonCollectorAddressV2: \"\",\n        tonMultisigAddressV2: \"\",\n        tonCenterUrl: \"https://toncenter.com/api/v2/jsonRPC\",\n        tonCenterApiKey:\n          \"d843619b379084d133f061606beecbf72ae2bf60e0622e808f2a3f631673599b\",\n        rpcEndpoint: \"https://bsc-dataseed.binance.org/\",\n        chainId: 56,\n        blocksConfirmations: 65,\n        defaultGwei: 5,\n        toncoinTransferTo_gasPrice: 0.0008,\n        toncoinTransferFrom_gasPrice: 0.0002,\n        tokenTransferTo_gasPrice: 0.0016,\n        tokenTransferFrom_gasPrice: 0.0004,\n      },\n      test: {\n        getGasUrl:\n          \"https://gbsc.blockscan.com/gasapi.ashx?apikey=key&method=gasoracle\",\n        explorerUrl: \"https://testnet.bscscan.com/token/<ADDRESS>\",\n        wTonAddress: \"0xdb15ffaf2c88f2d89db9365a5160d5b8c9448ea6\",\n        tonBridgeAddress: \"Ef_GmJntTDokxfhLGF1jRvMGC8Jav2V5keoNj4El2jzhHsID\",\n        tonCollectorAddress: \"EQDBNfV4DQzSyzNMw6BCTSZSoUi-CzWcYNsfhKxoDqfrwFtS\",\n        tonMultisigAddress: \"kf83VnnXuaqQV1Ts2qvUr6agacM0ydOux5NNa1mcU-cEO693\",\n        tonBridgeV2EVMAddress: \"0x501f187829Be89Fd84334aB402a99c626c8c7B65\",\n        tonBridgeAddressV2: \"Ef-QhQLNRndggmLKXzFzA-F51rnjZ5yWY3ww2JjcHjEDohCg\",\n        tonCollectorAddressV2:\n          \"EQDTtD0leOd2aRtfX8sVwhdIpgoO1kvYj2iiBpbOMBgmi_I7\",\n        tonMultisigAddressV2:\n          \"kf8n7jRSwkvkKoqlt8YGyQ93IivUp52j6oIlleVsuKS2NYnr\",\n        tonCenterUrl: \"https://testnet.toncenter.com/api/v2/jsonRPC\",\n        tonCenterApiKey:\n          \"52993043eb68ddd4dfee9f0f6a2a5d341226c7b5c77c4ae7758c158d6c7e00c4\",\n        rpcEndpoint: \"https://data-seed-prebsc-1-s1.binance.org:8545/\",\n        chainId: 97,\n        blocksConfirmations: 12,\n        defaultGwei: 5,\n        toncoinTransferTo_gasPrice: 0.0008,\n        toncoinTransferFrom_gasPrice: 0.0002,\n        tokenTransferTo_gasPrice: 0.0016,\n        tokenTransferFrom_gasPrice: 0.0004,\n      },\n    },\n  },\n};\n\nexport const getTokenAddressByToken = (token: string, isFromTon: boolean, isTestnet: boolean, pair: string): string => {\n  if (isTestnet) { // TESTNET\n\n    if (pair === 'eth') { // Goerli\n      switch (token) {\n        case 'usdt':\n          return isFromTon ? 'EQCyOkdBxpGvZ1stp7uZQi25WXH3lPg3_-nZ6xEbxcJXeZvV' : '0x7120c3f1528e1356b2aac0bb6a0e5acb008cd9e5';\n        case 'usdc':\n          return isFromTon ? '' : '';\n        case 'dai':\n          return isFromTon ? '' : '';\n        case 'wbtc':\n          return isFromTon ? '' : '';\n      }\n    } else if (pair === 'bsc') { // BSC testnet\n      switch (token) {\n        case 'usdt':\n          return isFromTon ? 'EQASJnz-JMQLwzH0qxohY0IK6jahBlTd63rtccA17G7tzL5t' : '0xe934b638b61d9c51bdb2cde62b8edae3a1f2064a';\n        case 'usdc':\n          return isFromTon ? '' : '';\n        case 'dai':\n          return isFromTon ? '' : '';\n        case 'wbtc':\n          return isFromTon ? '' : '';\n      }\n    }\n    return '';\n\n  } else { // MAINNET\n\n    if (pair === 'eth') { // Ethereum Mainnet\n      switch (token) {\n        case 'usdt':\n          return isFromTon ? 'EQBynBO23ywHy_CgarY9NK9FTz0yDsG82PtcbSTQgGoXwiuA' : '0xdAC17F958D2ee523a2206206994597C13D831ec7';\n        case 'usdc':\n          return isFromTon ? 'EQB-MPwrd1G6WKNkLz_VnV6WqBDd142KMQv-g1O-8QUA3728' : '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48';\n        case 'dai':\n          return isFromTon ? 'EQDo_ZJyQ_YqBzBwbVpMmhbhIddKtRP99HugZJ14aFscxi7B' : '0x6B175474E89094C44Da98b954EedeAC495271d0F';\n        case 'wbtc':\n          return isFromTon ? 'EQDcBkGHmC4pTf34x3Gm05XvepO5w60DNxZ-XT4I6-UGG5L5' : '0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599';\n      }\n    }\n    return ''; // BSC Mainnet\n  }\n}","function getScript(src: string): Promise<void> {\n  return new Promise((resolve, reject) => {\n    const script: HTMLScriptElement = document.createElement(\"script\");\n    const prior = document.getElementsByTagName(\"script\")[0];\n    script.async = true;\n\n    script.onload = () => {\n      script.onload = null;\n      script.onerror = null;\n      setTimeout(resolve, 0);\n    };\n\n    script.onerror = () => {\n      script.onload = null;\n      script.onerror = null;\n      setTimeout(reject, 0);\n    };\n\n    script.src = src;\n    prior.parentNode!.insertBefore(script, prior);\n  });\n}\n\nfunction supportsLocalStorage(): boolean {\n  try {\n    return \"localStorage\" in window && window[\"localStorage\"] !== null;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction parseChainId(chainId: string | number): number {\n  if (typeof chainId === \"number\") {\n    return chainId;\n  }\n  if (typeof chainId === \"string\") {\n    return parseInt(chainId, chainId.toLowerCase().startsWith(\"0x\") ? 16 : 10);\n  } else {\n    return 0;\n  }\n}\n\nexport {\n  getScript,\n  parseChainId,\n  supportsLocalStorage\n};\n","var map = {\n\t\"./metamask/index\": [\n\t\t15517,\n\t\t517\n\t],\n\t\"./walletConnect/index\": [\n\t\t84528,\n\t\t528\n\t],\n\t\"./walletLink/index\": [\n\t\t41686,\n\t\t686\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 38988;\nmodule.exports = webpackAsyncContext;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"517\":\"76ce740a\",\"528\":\"9590a944\",\"686\":\"9db99e96\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"ton-token-bridge:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkton_token_bridge\"] = self[\"webpackChunkton_token_bridge\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(98727); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_router_view","_resolveComponent","_component_layout","_openBlock","_createBlock","default","_withCtx","_createVNode","_","_hoisted_1","class","_component_Alert","_createElementBlock","_renderSlot","$slots","undefined","alert","key","title","message","buttonLabel","link","linkText","onClose","$event","setAlert","_createCommentVNode","_hoisted_2","_hoisted_3","_Transition","name","appear","_createElementVNode","onClick","args","close","_toDisplayString","href","target","defineComponent","props","type","String","required","created","document","addEventListener","this","onKeyDown","beforeUnmount","removeEventListener","methods","e","keyCode","$emit","__exports__","components","Alert","mapMutations","computed","mapGetters","mounted","documentElement","classList","add","primaryInput","watch","newVal","Layout","ctx","normalize","_normalize","interpolate","_interpolate","named","_named","createI18n","legacy","locale","navigator","language","split","process","fallbackLocale","messages","en","ru","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_component_Header","_component_CustomInput","_component_BridgeProcessor","_component_Footer","_component_WalletsPopup","isTestnet","isEthereumWalletConnected","walletsPopupState","ethereumProvider","isTransferInProgress","_normalizeClass","isFromTon","disabled","isPairsBlocked","_createTextVNode","$t","netTypeName","left","right","_Fragment","_renderList","fromPairs","item","index","onPairClick","token","toggleFromTon","pair","toPairs","pairNetworkCoinUrl","isInputsBlocked","label","dropdown","value","modelValue","network","toUpperCase","error","errors","tokenAddress","onChanged","onBlur","checkInputs","tokenSymbol","amount","amountInput","toAddress","_withDirectives","willReceive","_vShow","bridgeProcessorIsLoading","ref","isRecover","lt","hash","evmHash","getTokenAddress","trim","isInputsValid","onTransferInProgress","onStateChanged","getPairGasFee__debounced","onResetState","resetState","onSaveState","saveState","onDeleteState","deleteState","onReady","onBridgeProcessorReady","onError","onBridgeTransferError","pairFee","bridgeFee","params","uncancellable","onWalletConnected","onCancel","_hoisted_20","_hoisted_21","_hoisted_22","state","step","hasApprove","showLoader","isInitInProgress","isBurningInProgress","isLockingInProgress","onTransferClick","isApprovingInProgress","isGetAllowanceInProcess","isGetAllowanceError","onApproveClick","isCancelButtonVisible","onCancelClick","none","pending","done","getStepInfoText1","isOnlyText","text","send1","onCopyClick","amountReadable","send2","withComment","comment","openWalletUrl","openWalletLabel","isQRCodeShown","generateQRCode","scanQRCode","getStepInfoText2","getStepInfoText3","getStepInfoText4","isMintToncoinButtonVisible","isMintingInProgress","mint","coin","toCoin","isDoneButtonVisible","onDoneClick","checkNull","a","Error","isNaN","removeHexPrefix","hex","startsWith","substring","indexOf","bytesToHex","bytes","Buffer","from","toString","b","TonWeb","bytesToBase64","base64ToBytes","base64","Uint8Array","join","checkBN","bn","bigInt","decToBN","dec","BigInt","hexToBN","decToHex","hexToDec","calculateQueryId","timeout","queryId","mul","calculateToncoinFee","feeFlat","feeFactor","feeBase","rest","sub","percentFee","div","_feeFlat","_feeFactor","_feeBase","_rest","_percentFee","getTokenAmountAfterFee","amountBigInt","readIntFromBitString","bs","cursor","bits","i","get","parseAddress","cell","hashPart","s","padStart","async","getJettonWalletBalance","tonweb","jettonWalletAddress","jettonWalletData","provider","call2","balance","result","exit_code","getWrappedTokenData","wrappedTokenData","chainId","Number","decimals","getJettonWalletAddress","userTonAddress","writeAddress","getWalletAddressResponse","toBoc","getJettonMinterAddress","tonBridgeAddress","jettonMinterAddress","burnJetton","tonWallet","destinationAddress","jettonAmountWithDecimals","burnOP","burnPayload","writeUint","customPayload","writeCoins","writeBit","refs","push","send","to","data","dataType","mintJetton","bridgeTonAddress","mintOP","mintPayload","timeout1","timeout2","triggerClass","className","remove","clearTimeout","setTimeout","clipboard","writeText","innerText","then","getNumber","parseInt","findLogOutMsg","outMessages","outMsg","destination","getRawMessageBytes","logMsg","endsWith","substr","length","getTextMessageBytes","msg_data","textBytes","set","getMessageBytes","msgType","console","makeAddress","address","checkV","v","parseEvmSignature","tuple","elements","publicKey","number","rsv","r","getEvmSignaturesFromCollector","tonCollectorAddress","voteId","intVoteId","log","call","list","stack","status","signatures","map","prepareEthSignatures","signature","signer","ethers","sort","cmp","Web3","MULTISIG_QUERY_TIMEOUT","getQueryId","evmTransaction","VERSION","blockTime","getLegacyQueryString","str","strArr","blockHash","transactionHash","logIndex","ERC20Contract","constructor","_getContract","Object","keys","contracts","includes","_registerContract","contract","Contract","ERC20","symbol","balanceOf","account","allowance","owner","spender","approve","connect","getSigner","TOKEN_TON_TO_EVM_PERCENT_FEE_START_TIME","BLOCK_CONFIRMATIONS_COUNT","parseField","field","x","parseEvmTxHash","toLowerCase","parseEvmBlockHash","parseEvmAddress","parseNumber","parseTonAddress","slice","parseWc","parseDecimals","parseBN","lte","BURN_INPUT_LENGTH","BURN_INPUT_PREFIX","ToncoinBridge","static","web3","d","receiver","tx","address_","workchain","address_hash","tx_hash","eth","abi","encodeParameters","setHash","addresses","newBurnStatus","nonce","ethToTon","payload","writeInt","addressHash","logs","count","topics","decoded","decodeParameters","wtonAddress","isError","txreceipt_status","input","confirmations","receipt","currentBlockNumber","blockNumber","transactionIndex","decodedInput","findLog","rawData","t","out_msgs","amountHex","senderAddress","in_msg","source","msgText","TextDecoder","decode","addressFromInMsg","amountFromInMsg","amountFromInMsgAfterFee","getFeeAmount","eq","wc","transaction_id","time","utime","LOCK_INPUT_LENGTH","LOCK_INPUT_PREFIX","lockEventDataTypes","TokenBridge","event","ethReceiver","jettonAmount","newLockStatus","lockEvent","to_address_hash","createWrappedTokenData","bridgeAddress","lockInputTypes","inputData","finalAmount","userSenderAddressHex","minterSenderAddress","queryIdHex","userSenderAddress","getVotesInMultisig","tonMultisigAddress","oraclesTotal","arr","fromNano","toNano","Boolean","updateStateIntervalForToncoin","updateStateIntervalForJettons","providerDataForToncoin","providerDataForJettons","swapId","jettonEvmAddress","fromCurrencySent","toCurrencySent","votes","swapData","burnData","createTime","isToncoinTransfer","pairParams","PARAMS","fromCoin","url","replace","providerData","blocksConfirmations","Math","max","min","getOraclesText","getGetCoinsText","immediate","handler","val","newValue","onTokenChange","$watch","myAddress","debounce","checkAllowance","beforeDestroy","clearInterval","mintWrappedToncoin","unlockToken","updateStateForToncoin","setInterval","updateStateForJettons","oraclesStep","votesConfirmations","getCoinsStep","isToncoinWallet","toCoins","toNetwork","options","width","window","devicePixelRatio","height","image","require","dotsOptions","color","cornersSquareOptions","cornersDotOptions","imageOptions","hideBackgroundDots","crossOrigin","imageSize","qrOptions","errorCorrectionLevel","qrCode","QRCodeStyling","append","$refs","qrcode","initProviderForToncoin","initProviderForJettons","processingState","initProvider","assign","swap","getSwapForToncoin","getSwapTonToEthIdForToncoin","getBlockNumber","getTransactionReceipt","block","getBlock","timestamp","getEthVoteForToncoin","getTonVoteForToncoin","burn","getSwapForJettons","getSwapTonToEthIdForJettons","getEthVoteForJettons","isPaid","isJettonMintPaid","getTonVoteForJettons","wTonAddress","getDataId","tonBridgeV2EVMAddress","getFeeAmountForToncoin","myAmount","myToAddress","myCreateTime","amountAfterFee","specifiedTransaction","transactions","getTransactions","limit","processTonTransaction","JSON","stringify","BN","tonBridgeAddressV2","processPayJettonMintTransaction","tonCollectorAddressV2","tonMultisigAddressV2","isConnected","getBalance","gt","unlockSignatures","bridgeContract","voteForSwitchLock","validateEthereumProvider","wtonContract","voteForMinting","on","fromAddress","amountUnits","addressTon","erc20Contract","parseUnits","allowanceUnits","gte","maxAmount","MaxInt256","wait","Date","now","lock","unlock","myAddreess","WTON_BRIDGE","getFullOracleSet","tonCenterUrl","apiKey","tonCenterApiKey","bridgeData","feeNetwork","res","ton","wallets","walletAddress","BRIDGE","userTonBalance","isTokenEvmToTonRecover","isTokenTonToEvmRecover","recoverEvmToTonTransfer","userErcBalance","burnWrappedToncoin","wrappedTokenDataCell","referenceMinterAddress","formatUnits","lockToken","hasData","isDropdownOpened","readonly","hasDropdown","id","$uuid","v1","inputmode","onInput","onFocus","onFocusout","onInputFocusOut","model","_vModelDynamic","for","onOptionClick","Array","find","elem","relatedTarget","parentNode","$el","isScrolled","_resolveDynamicComponent","isHistoryShown","parentUrl","instructionLink","showMenu","onDisconnectClick","disableDisconnect","pageYOffset","historyAddress","historyNetwork","query","$route","generateUrlWithQuery","historyUrl","forEach","netKey","net","subnetKey","subnet","onScroll","urlVars","encodeURIComponent","$router","resolve","disconnect","isLoading","providersList","onProviderClick","loadingProviderName","PROVIDERS","metamask","providerName","providerComponentName","ProviderComponent","rpcEndpoint","$te","PAIRS","BridgeProcessor","WalletsPopup","CustomInput","Header","Footer","head","gasPrice","getTokenAddressByToken","explorerUrl","bridgeFeeAmount","isZero","fee","defaultGwei","toncoinFee","toncoinTransferFrom_gasPrice","toncoinTransferTo_gasPrice","tokenFee","tokenTransferFrom_gasPrice","tokenTransferTo_gasPrice","toFixed","MINIMUM_TONCOIN_AMOUNT","filter","oldVal","lodashDebounce","getPairGasFee","testnet","recover","recovery","isRecovery","fromNetwork","loadStateBridge","switchDirection","toPair","supportsLocalStorage","raw","localStorage","getItem","parse","loadStateProcessor","bridgeProcessor","loadState","setItem","removeItem","isActive","response","fetch","getGasUrl","method","cache","ok","json","parseFloat","average","SafeGasPrice","markRaw","routes","path","component","BridgePageVue","router","createRouter","history","createWebHistory","createStore","mutations","getters","actions","createApp","App","use","UUID","i18n","store","mount","appName","appLogoUrl","tonTransferUrl","tonExplorerUrl","main","test","networks","bsc","getScript","src","Promise","reject","script","createElement","prior","getElementsByTagName","onload","onerror","insertBefore","parseChainId","webpackAsyncContext","req","__webpack_require__","o","code","ids","module","exports","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","m","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","getter","__esModule","definition","defineProperty","enumerable","f","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","needAttach","scripts","getAttribute","charset","nc","setAttribute","onScriptComplete","prev","doneFns","removeChild","bind","appendChild","Symbol","toStringTag","nmd","paths","children","p","installedChunks","installedChunkData","promise","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}